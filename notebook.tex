
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{56301-Cufaro-G-Predictor-Tenis}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \subsection{Predicción de Resultado de Partidos de
Tenis}\label{predicciuxf3n-de-resultado-de-partidos-de-tenis}

El objetivo de la red neuronal a implementar es poder predecir los
resultados de cierta temporada de tenis actual considerando el historial
de partidos de temporadas pasadas, como así también el historial
individual entre los jugadores de cada partido. En esta sección se
analizará el dataset del mismo. \#\#\# Dataset de Referencia El dataset
de referencia será el historial de partidos de la Asociación de Tenistas
Profesionales (ATP) brindado en su base de datos. Este no sólo incluye
quien ha ganado cada partido, sino el puntaje y los porcentajes de las
características relevantes de cada jugada en particular ('primeros
servicios', 'segundos servicios', 'aces', 'porcentaje de devoluciones',
'doble faltas', etc.). Por lo tanto, el set de entrenamiento de la red
consistirá de un vector de características de entrada (X) representando
las características de los jugadores involucrados y del partido, y un
vector de salida correspondiente que determina que jugador gana.

El dataset será dividido en tres partes: - Set de entrenamiento (2016 -
2017) - Set de validación (parte de 2018) - Set de prueba (otra parte de
2018-2019)

Para el set de entrenamiento se utilizan las estadísticas oficiales de
cada uno de los partidos. Sin embargo, para el set de validación y de
prueba se usan solo los datos que se conocen antes de cada partido: los
nombres de los jugadores, y el ranking.

Debajo se muestra el preprocesamiento del dataset de entrenamiento. Los
datos se extraen de la página oficial de ATP, obtienendose dos datasets
distintos. Se deben unir los datasets de acuerdo a los jugadores, el
torneo y el año en cuestión.

El primer dataset se denomina 'match stats'. El mismo marca las
características del partido en sí. Además del identificador del partido,
el URL de la página Web oficial del partido y el ID del torneo, se toman
en cuenta los siguientes datos, tanto del perdedor como del ganador:

\begin{longtable}[]{@{}ll@{}}
\toprule
Servicio & Devolución\tabularnewline
\midrule
\endhead
Rating de saque & Rating de devolución\tabularnewline
Aces & -\tabularnewline
Doble faltas & -\tabularnewline
Porcentaje de 1ros saques & -\tabularnewline
Porcentaje de 1ros saques ganados & 1ros saques en devolución
ganados\tabularnewline
Porcentaje de 2dos saques ganados & 2dos saques en devolución
ganados\tabularnewline
Break points salvados & Break points ganados\tabularnewline
Games de servicio jugados & Games de devolución jugados\tabularnewline
Puntos de saque ganados & Puntos de devolución ganados\tabularnewline
\bottomrule
\end{longtable}

El segundo dataset se denomina 'atp\_matches' o 'scores'. El mismo
repite algunos datos del dataset anterior, pero además agrega los
siguientes datos: - Ranking de los jugadores - Puntos del ranking de los
jugadores - Score final del partido

Los parámetros mencionados son características individuales del partido
entre los jugadores. Las mismas no se pueden utilizar para predecir un
partido. Es por ello, para validar y testear la red, se buscan las
características en el historial del dataset de entrenamiento. \#\#\#
Dataset de entrenamiento A continuación se obtienen los parámetros para
el primer dataset.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{re}
        \PY{k+kn}{import} \PY{n+nn}{numpy}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{re}
        \PY{k+kn}{import} \PY{n+nn}{numpy}
        \PY{k+kn}{import} \PY{n+nn}{keras}
        \PY{k+kn}{from} \PY{n+nn}{keras} \PY{k}{import} \PY{n}{optimizers}
        \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{models} \PY{k}{import} \PY{n}{Sequential}
        \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{layers} \PY{k}{import} \PY{n}{Dense}\PY{p}{,} \PY{n}{Dropout}\PY{p}{,} \PY{n}{BatchNormalization}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{confusion\PYZus{}matrix}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}
        \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
        \PY{k+kn}{from} \PY{n+nn}{keras}\PY{n+nn}{.}\PY{n+nn}{callbacks} \PY{k}{import} \PY{n}{ModelCheckpoint}
        \PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k}{import} \PY{n}{clear\PYZus{}output}
        
        \PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k}{import} \PY{n}{display\PYZus{}html}
        \PY{k}{def} \PY{n+nf}{display\PYZus{}side\PYZus{}by\PYZus{}side}\PY{p}{(}\PY{o}{*}\PY{n}{args}\PY{p}{)}\PY{p}{:}
            \PY{n}{html\PYZus{}str}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}
            \PY{k}{for} \PY{n}{df} \PY{o+ow}{in} \PY{n}{args}\PY{p}{:}
                \PY{n}{html\PYZus{}str}\PY{o}{+}\PY{o}{=}\PY{n}{df}\PY{o}{.}\PY{n}{to\PYZus{}html}\PY{p}{(}\PY{p}{)}
            \PY{n}{display\PYZus{}html}\PY{p}{(}\PY{n}{html\PYZus{}str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{table}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{table style=}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{display:inline}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}\PY{n}{raw}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
            
        \PY{n}{pd\PYZus{}atp\PYZus{}matches} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/atp\PYZus{}matches\PYZus{}2016\PYZus{}2017.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{my\PYZus{}data\PYZus{}stats} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/match\PYZus{}stats\PYZus{}2016\PYZus{}2017.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}select what do I want from the stats dataset}
        \PY{n}{mycolumns}\PY{o}{=}\PY{p}{[}
                   \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}aces}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}loser\PYZus{}aces}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}double\PYZus{}faults}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}loser\PYZus{}double\PYZus{}faults}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                   \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}first\PYZus{}serves\PYZus{}total}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}first\PYZus{}serve\PYZus{}points\PYZus{}won}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}first\PYZus{}serves\PYZus{}in}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                   \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}loser\PYZus{}first\PYZus{}serves\PYZus{}total}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}loser\PYZus{}first\PYZus{}serve\PYZus{}points\PYZus{}won}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}loser\PYZus{}first\PYZus{}serves\PYZus{}in}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                   \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}return\PYZus{}points\PYZus{}won}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}return\PYZus{}points\PYZus{}total}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                   \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}loser\PYZus{}return\PYZus{}points\PYZus{}won}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}loser\PYZus{}return\PYZus{}points\PYZus{}total}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                   \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}total\PYZus{}points\PYZus{}won}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}total\PYZus{}points\PYZus{}total}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}winner\PYZus{}second\PYZus{}serve\PYZus{}points\PYZus{}total}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ms\PYZus{}loser\PYZus{}second\PYZus{}serve\PYZus{}points\PYZus{}total}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{new\PYZus{}columns}\PY{o}{=}\PY{p}{[}
                     \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                     \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                     \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}   
                     \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                     \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                     \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}pts\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
        \PY{n}{my\PYZus{}data\PYZus{}stats}\PY{o}{=}\PY{n}{my\PYZus{}data\PYZus{}stats}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{n}{mycolumns}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{my\PYZus{}data\PYZus{}stats}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{n}{new\PYZus{}columns}
        
        \PY{c+c1}{\PYZsh{}select what I want from the other dataset}
        \PY{n}{labels}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{tourney\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{tourney\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{round}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}rank}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}rank\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}rank}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}rank\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{n}{labels}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        
        \PY{n}{labels\PYZus{}match}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{,}\PY{n}{my\PYZus{}data\PYZus{}stats}\PY{p}{,}\PY{n}{on}\PY{o}{=}\PY{n}{labels\PYZus{}match}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        \PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{n}{keep}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{first}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        
        
        \PY{c+c1}{\PYZsh{}calculate number of games}
        \PY{k}{def} \PY{n+nf}{findOccurrences}\PY{p}{(}\PY{n}{s}\PY{p}{,} \PY{n}{ch}\PY{p}{)}\PY{p}{:}
            \PY{k}{return} \PY{p}{[}\PY{n}{i} \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{letter} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{s}\PY{p}{)} \PY{k}{if} \PY{n}{letter} \PY{o}{==} \PY{n}{ch}\PY{p}{]}
        
        \PY{k}{def} \PY{n+nf}{change\PYZus{}char}\PY{p}{(}\PY{n}{s}\PY{p}{,} \PY{n}{p}\PY{p}{,} \PY{n}{r}\PY{p}{)}\PY{p}{:}
            \PY{k}{return} \PY{n}{s}\PY{p}{[}\PY{p}{:}\PY{n}{p}\PY{p}{]}\PY{o}{+}\PY{n}{r}\PY{o}{+}\PY{n}{s}\PY{p}{[}\PY{n}{p}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}
        
        \PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{TotGames}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}score to number of games}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{n}{str1}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{score}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            
            \PY{n}{start}\PY{o}{=}\PY{n}{findOccurrences}\PY{p}{(}\PY{n}{str1}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{(}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{end}\PY{o}{=}\PY{n}{findOccurrences}\PY{p}{(}\PY{n}{str1}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
            \PY{k}{for} \PY{n}{k} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{start}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                \PY{k}{for} \PY{n}{l} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{end}\PY{p}{[}\PY{n}{k}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{n}{start}\PY{p}{[}\PY{n}{k}\PY{p}{]}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
                    \PY{n}{str1}\PY{o}{=}\PY{n}{change\PYZus{}char}\PY{p}{(}\PY{n}{str1}\PY{p}{,}\PY{n}{start}\PY{p}{[}\PY{n}{k}\PY{p}{]}\PY{o}{+}\PY{n}{l}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
            \PY{n}{number\PYZus{}of\PYZus{}games}\PY{o}{=}\PY{l+m+mi}{0}
            \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range} \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{filter}\PY{p}{(}\PY{n+nb}{str}\PY{o}{.}\PY{n}{isdigit}\PY{p}{,} \PY{n}{str1}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                \PY{n}{number\PYZus{}of\PYZus{}games}\PY{o}{=}\PY{n}{number\PYZus{}of\PYZus{}games}\PY{o}{+}\PY{n+nb}{int}\PY{p}{(}\PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{filter}\PY{p}{(}\PY{n+nb}{str}\PY{o}{.}\PY{n}{isdigit}\PY{p}{,} \PY{n}{str1}\PY{p}{)}\PY{p}{)}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{)}
            \PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{number\PYZus{}of\PYZus{}games}
        
            
        \PY{k}{def} \PY{n+nf}{SetNan}\PY{p}{(}\PY{n}{pandas}\PY{p}{,}\PY{n}{column}\PY{p}{)}\PY{p}{:}
            \PY{n+nb}{list} \PY{o}{=} \PY{n}{pandas}\PY{o}{.}\PY{n}{index}\PY{p}{[}\PY{p}{(}\PY{n}{pandas}\PY{p}{[}\PY{n}{column}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)} \PY{o}{==} \PY{k+kc}{True}\PY{p}{]}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
            \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n+nb}{list}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                \PY{n}{pandas}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n+nb}{list}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}\PY{n}{column}\PY{p}{]}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{nan}
                
        \PY{n}{SetNan}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{SetNan}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{SetNan}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{SetNan}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{SetNan}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{SetNan}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}h5py\textbackslash{}\_\_init\_\_.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from .\_conv import register\_converters as \_register\_converters
Using TensorFlow backend.

    \end{Verbatim}

    Debajo se muestra un ejemplo de un partido, con todos los stats
obtenidos.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{display}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{1405}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    
    \begin{verbatim}
tourney_id                               2016-540
tourney_name                            Wimbledon
round                                        R128
winner_id                                  104898
winner_name                           Robin Haase
loser_id                                   106043
loser_name            Diego Sebastian Schwartzman
score                         2-6 6-2 6-3 2-6 7-5
winner_rank                                    98
winner_rank_points                            615
loser_rank                                     71
loser_rank_points                             746
w_ace                                          12
l_ace                                           0
w_df                                            4
l_df                                            3
w_svpt                                        125
w_1stWon                                       47
w_1stIn                                        64
l_svpt                                        132
l_1stWon                                       60
l_1stIn                                        88
w_2ndWon                                       32
l_2ndWon                                       21
w_bpSaved                                       3
w_bpFaced                                       9
l_bpSaved                                       8
l_bpFaced                                      15
w_ret_w                                        51
w_ret_tot                                     132
l_ret_w                                        46
l_ret_tot                                     125
w_pts_w                                       130
total_points                                  257
w_2ndTot                                       61
l_2ndTot                                       44
TotGames                                       45
Name: 1405, dtype: object
    \end{verbatim}

    
    Como primer paso, se obtiene el stat TMW (Partidos totales ganados). Es
decir, se busca el historial entre ambos jugadores, y se agrega dicha
columna a cada uno de los partidos. Un TMW positivo significa que el
ganador tiene un historial positivo en todos los partidos en común entre
ellos. Un TMW negativo significa que el historial entre ellos es
negativo. En cambio, que el parámetro sea 0 significa que el historial
está igualado.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{}this function returns WRP of a player against a certain adversary}
        \PY{k}{def} \PY{n+nf}{getMatchesWonPer}\PY{p}{(}\PY{n}{myopponent}\PY{p}{,}\PY{n}{adversary}\PY{p}{)}\PY{p}{:}
            \PY{n}{exp1}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{myopponent}\PY{p}{]}\PY{p}{)}
            \PY{n}{exp2}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{adversary}\PY{p}{]}\PY{p}{)}
            \PY{n}{exp3}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{myopponent}\PY{p}{]}\PY{p}{)}
            \PY{n}{exp4}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{adversary}\PY{p}{]}\PY{p}{)}
        
            \PY{n}{matches\PYZus{}won}\PY{o}{=}\PY{n+nb}{len}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{exp1}\PY{o}{\PYZam{}}\PY{n}{exp2}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{)}
            \PY{n}{matches\PYZus{}lost}\PY{o}{=}\PY{n+nb}{len}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{exp3}\PY{o}{\PYZam{}}\PY{n}{exp4}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{)}
            \PY{n}{matchesWonPer} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{o}{/}\PY{p}{(}\PY{n}{matches\PYZus{}won}\PY{o}{+}\PY{n}{matches\PYZus{}lost}\PY{p}{)}
            
            \PY{k}{return} \PY{n}{matchesWonPer}
        
        \PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{TMW}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{n}{TMW1}\PY{o}{=}\PY{n}{getMatchesWonPer}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
            \PY{k}{if} \PY{p}{(}\PY{n}{TMW1} \PY{o}{\PYZhy{}} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{TMW1}\PY{p}{)}\PY{p}{)}\PY{o}{\PYZlt{}}\PY{l+m+mi}{0}\PY{p}{:}
                \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Match with negative \PYZsh{}}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{TMW1} \PY{o}{\PYZhy{}} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{TMW1}\PY{p}{)}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{TMW1} \PY{o}{\PYZhy{}} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{TMW1}\PY{p}{)}
            
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Match with negative \#25 -0.3333333333333334

Match with negative \#150 -0.3333333333333334

Match with negative \#171 -0.3333333333333334

Match with negative \#172 -0.3333333333333334

Match with negative \#275 -0.3333333333333334

Match with negative \#283 -0.3333333333333334

Match with negative \#300 -0.5

Match with negative \#343 -0.3333333333333334

Match with negative \#365 -0.19999999999999996

Match with negative \#397 -0.19999999999999996

Match with negative \#429 -0.3333333333333334

Match with negative \#442 -0.5

Match with negative \#470 -0.3333333333333334

Match with negative \#488 -0.3333333333333334

Match with negative \#489 -0.3333333333333334

Match with negative \#507 -0.3333333333333334

Match with negative \#553 -0.3333333333333334

Match with negative \#591 -0.3333333333333334

Match with negative \#654 -0.3333333333333334

Match with negative \#660 -0.3333333333333334

Match with negative \#677 -0.3333333333333334

Match with negative \#723 -0.19999999999999996

Match with negative \#766 -0.3333333333333334

Match with negative \#790 -0.5

Match with negative \#850 -0.3333333333333334

Match with negative \#943 -0.3333333333333334

Match with negative \#982 -0.3333333333333334

Match with negative \#1048 -0.3333333333333334

Match with negative \#1051 -0.3333333333333334

Match with negative \#1079 -0.3333333333333334

Match with negative \#1110 -0.3333333333333334

Match with negative \#1223 -0.3333333333333334

Match with negative \#1226 -0.5

Match with negative \#1273 -0.3333333333333334

Match with negative \#1313 -0.19999999999999996

Match with negative \#1319 -0.3333333333333334

Match with negative \#1381 -0.3333333333333334

Match with negative \#1384 -0.19999999999999996

Match with negative \#1396 -0.3333333333333334

Match with negative \#1474 -0.3333333333333334

Match with negative \#1489 -0.5

Match with negative \#1541 -0.3333333333333334

Match with negative \#1702 -0.3333333333333334

Match with negative \#1732 -0.3333333333333334

Match with negative \#1771 -0.3333333333333334

Match with negative \#1777 -0.3333333333333334

Match with negative \#1784 -0.3333333333333334

Match with negative \#1818 -0.3333333333333334

Match with negative \#1893 -0.3333333333333334

Match with negative \#1935 -0.3333333333333334

Match with negative \#2003 -0.5

Match with negative \#2074 -0.3333333333333334

Match with negative \#2123 -0.5

Match with negative \#2133 -0.3333333333333334

Match with negative \#2136 -0.3333333333333334

Match with negative \#2225 -0.5

Match with negative \#2252 -0.3333333333333334

Match with negative \#2269 -0.3333333333333334

Match with negative \#2278 -0.5

Match with negative \#2351 -0.5

Match with negative \#2379 -0.3333333333333334

Match with negative \#2398 -0.3333333333333334

Match with negative \#2428 -0.3333333333333334

Match with negative \#2501 -0.3333333333333334

Match with negative \#2509 -0.3333333333333334

Match with negative \#2520 -0.3333333333333334

Match with negative \#2636 -0.3333333333333334

Match with negative \#2718 -0.3333333333333334

Match with negative \#2748 -0.3333333333333334

Match with negative \#2771 -0.5

Match with negative \#2784 -0.3333333333333334

Match with negative \#2889 -0.3333333333333334

Match with negative \#2998 -0.3333333333333334

Match with negative \#3161 -0.3333333333333334

Match with negative \#3164 -0.3333333333333334

Match with negative \#3192 -0.3333333333333334

Match with negative \#3241 -0.3333333333333334

Match with negative \#3280 -0.3333333333333334

Match with negative \#3305 -0.6000000000000001

Match with negative \#3348 -0.3333333333333334

Match with negative \#3435 -0.19999999999999996

Match with negative \#3443 -0.3333333333333334

Match with negative \#3445 -0.3333333333333334

Match with negative \#3451 -0.5

Match with negative \#3495 -0.3333333333333334

Match with negative \#3503 -0.3333333333333334

Match with negative \#3561 -0.3333333333333334

Match with negative \#3598 -0.3333333333333334

Match with negative \#3603 -0.3333333333333334

Match with negative \#3679 -0.5

Match with negative \#3686 -0.6000000000000001

Match with negative \#3687 -0.3333333333333334

Match with negative \#3729 -0.3333333333333334

Match with negative \#3786 -0.3333333333333334

Match with negative \#3803 -0.3333333333333334

Match with negative \#3805 -0.3333333333333334

Match with negative \#3832 -0.3333333333333334

Match with negative \#3848 -0.3333333333333334

Match with negative \#3872 -0.19999999999999996

Match with negative \#3971 -0.3333333333333334

Match with negative \#3980 -0.3333333333333334

Match with negative \#3981 -0.6000000000000001

Match with negative \#4116 -0.3333333333333334

Match with negative \#4152 -0.3333333333333334

Match with negative \#4271 -0.3333333333333334

Match with negative \#4279 -0.3333333333333334

Match with negative \#4280 -0.3333333333333334

Match with negative \#4289 -0.3333333333333334

Match with negative \#4297 -0.5

Match with negative \#4306 -0.19999999999999996

Match with negative \#4335 -0.3333333333333334

Match with negative \#4348 -0.3333333333333334

Match with negative \#4358 -0.5

Match with negative \#4437 -0.3333333333333334

Match with negative \#4451 -0.3333333333333334

Match with negative \#4530 -0.5

Match with negative \#4550 -0.3333333333333334

Match with negative \#4553 -0.3333333333333334

Match with negative \#4601 -0.3333333333333334

Match with negative \#4664 -0.3333333333333334

Match with negative \#4690 -0.3333333333333334

Match with negative \#4737 -0.3333333333333334

Match with negative \#4765 -0.3333333333333334

Match with negative \#4809 -0.3333333333333334

Match with negative \#4902 -0.3333333333333334

Match with negative \#4907 -0.3333333333333334

Match with negative \#4958 -0.3333333333333334

Match with negative \#4960 -0.5


    \end{Verbatim}

    \subsubsection{Features para el
entrenamiento}\label{features-para-el-entrenamiento}

Los datos luego serán seleccionados partido a partido, a partir del
dataset obtenido. Se realiza la siguiente división:

\begin{longtable}[]{@{}ll@{}}
\toprule
Categoría & Detalle\tabularnewline
\midrule
\endhead
ID1 & ID Jugador 1\tabularnewline
ID2 & ID Jugador 2\tabularnewline
RANK & Ranking ATP\tabularnewline
POINTS & Puntos ATP\tabularnewline
FS & Porcentaje de primeros servicios\tabularnewline
W1SP & Porcentaje de primeros servicios ganados\tabularnewline
W2SP & Porcentaje de segundos servicios ganados\tabularnewline
WSP & Porcentaje de servicios ganados globales\tabularnewline
WRP & Porcentaje de devolución ganada\tabularnewline
TPW & Porcentaje de puntos totales ganados\tabularnewline
TMW & Porcentaje de todos los partidos ganados\tabularnewline
ACES & Promedio de aces por game\tabularnewline
DF & Promedio de doble faltas por game\tabularnewline
BP & Porcentaje de break points ganados\tabularnewline
NA & Porcentaje de puntos en la red ganados\tabularnewline
COMPLETE & Overall de servicio y devolución\tabularnewline
SERVEADV & Diferencia cruzada entre servicio y devolución\tabularnewline
DIRECT & Ventaja H2H entre los jugadores\tabularnewline
\bottomrule
\end{longtable}

Cada partido tiene estas características que suelen indicar las
diferencias entre ambos jugadores. Por lo que por ejemplo, para ATPRank,
si RANK1 es el ranking del jugador 1 y RANK2 es el ranking del jugador
2, RANK = RANK1 - RANK2. Para el entrenamiento, cada partido tendrá como
salida un vector que inidque que jugador gana o que jugador pierde. Es
decir, 1 si el jugador ganó o 0 si el jugador perdió.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}
        \PY{n}{results2016} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Ranking Won}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}rank}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}rank}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{POINTS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}rank\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}rank\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
        \PY{c+c1}{\PYZsh{}First Serve In}
        \PY{n}{FS1} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{div}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} 
        \PY{n}{FS2} \PY{o}{=}  \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{div}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{FS1} \PY{o}{\PYZhy{}} \PY{n}{FS2}
        
        \PY{c+c1}{\PYZsh{}Winning in First Serve}
        \PY{n}{W1SP1} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{div}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{W1SP2} \PY{o}{=}  \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{div}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{W1SP1} \PY{o}{\PYZhy{}} \PY{n}{W1SP2}
        
        \PY{c+c1}{\PYZsh{}Winning in Second Serve}
        \PY{n}{W2SP1} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{div}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{W2SP2} \PY{o}{=}  \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{div}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{W2SP1} \PY{o}{\PYZhy{}} \PY{n}{W2SP2}
        
        \PY{c+c1}{\PYZsh{}Winning on Serve Cumulative}
        \PY{n}{WSP1} \PY{o}{=} \PY{n}{W1SP1} \PY{o}{*} \PY{n}{FS1} \PY{o}{+} \PY{n}{W2SP1} \PY{o}{*} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{FS1}\PY{p}{)}
        \PY{n}{WSP2} \PY{o}{=} \PY{n}{W1SP2} \PY{o}{*} \PY{n}{FS2} \PY{o}{+} \PY{n}{W2SP2} \PY{o}{*} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{FS2}\PY{p}{)}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{WSP1} \PY{o}{\PYZhy{}} \PY{n}{WSP2}
        
        \PY{c+c1}{\PYZsh{}Winning in Return}
        \PY{n}{WRP1} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{div}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{WRP2} \PY{o}{=}  \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{div}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{WRP1} \PY{o}{\PYZhy{}} \PY{n}{WRP2}
        
        \PY{c+c1}{\PYZsh{}Total Points Won}
        \PY{n}{TPW1} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}pts\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{TPW2} \PY{o}{=} \PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}pts\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{TPW1} \PY{o}{\PYZhy{}} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{TPW1}\PY{p}{)}
        
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
        \PY{n}{BP1} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{BP2} \PY{o}{=} \PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{pd\PYZus{}atp\PYZus{}matches\PYZus{}2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{BP1}\PY{o}{\PYZhy{}}\PY{n}{BP2}
        
        \PY{n}{COMPLETE1} \PY{o}{=} \PY{n}{WSP1} \PY{o}{*} \PY{n}{WRP1}
        \PY{n}{COMPLETE2} \PY{o}{=} \PY{n}{WSP2} \PY{o}{*} \PY{n}{WRP2}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{COMPLETE1}\PY{o}{\PYZhy{}}\PY{n}{COMPLETE2}
        
        \PY{n}{SERVEADV1} \PY{o}{=} \PY{n}{WSP1} \PY{o}{\PYZhy{}} \PY{n}{WRP2}
        \PY{n}{SERVEADV2} \PY{o}{=} \PY{n}{WSP2} \PY{o}{\PYZhy{}} \PY{n}{WRP1}
        \PY{n}{results2016}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{SERVEADV1}\PY{o}{\PYZhy{}}\PY{n}{SERVEADV2}
        
        \PY{c+c1}{\PYZsh{}results.rename(columns\PYZob{}\PYZsq{}winner\PYZus{}id\PYZsq{}: \PYZsq{}ID1\PYZsq{}, \PYZsq{}loser\PYZus{}id\PYZsq{}: \PYZsq{}ID2\PYZsq{}\PYZcb{}, inplace=True)}
        
        \PY{n}{results2016}\PY{o}{=}\PY{n}{results2016}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{winner}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        
        \PY{n}{results2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{,}\PY{l+m+mi}{1000}\PY{p}{,}\PY{l+m+mi}{1001}\PY{p}{,}\PY{l+m+mi}{1002}\PY{p}{,}\PY{l+m+mi}{1003}\PY{p}{,}\PY{l+m+mi}{1004}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:}             winner\_name             loser\_name   RANK  POINTS          FS  \textbackslash{}
        0     Mikhail Kukushkin          Denis Istomin    4.0   -19.0  -0.0664602   
        1        Radek Stepanek          Dusan Lajovic  121.0  -426.0  -0.0226449   
        2         Bernard Tomic          Nicolas Mahut  -53.0   965.0 -0.00372881   
        3            Ivan Dodig        Oliver Anderson -726.0   611.0   0.0353218   
        4         Lucas Pouille     Yoshihito Nishioka  -39.0   177.0    0.140351   
        5          David Goffin        Thomaz Bellucci  -21.0   775.0  -0.0797448   
        9       Grigor Dimitrov           Gilles Simon   13.0  -785.0  -0.0364944   
        1000          Jack Sock  Juan Martin Del Potro -248.0  1240.0 -0.00548374   
        1001        Sam Querrey          Lucas Pouille  -21.0   230.0   0.0311765   
        1002       Rafael Nadal       Andrey Kuznetsov  -34.0  4900.0    0.256491   
        1003      Kei Nishikori          Fabio Fognini  -25.0  3005.0   0.0720721   
        1004    Richard Gasquet      Fernando Verdasco  -40.0  1735.0    0.011088   
        
                   W1SP      W2SP        WSP       WRP       TPW  TMW       ACES  \textbackslash{}
        0        0.0625  0.073733  0.0599831  0.059983  0.100000  1.0      -0.25   
        1          0.12  0.314700   0.208333  0.208333  0.212766  1.0        0.2   
        2     0.0993915  0.083810  0.0918644  0.091864  0.119266  0.0   0.210526   
        3     0.0666667  0.275120   0.158948  0.158948  0.148515  1.0   0.470588   
        4      0.171875 -0.051843   0.115789  0.115789  0.079070  1.0   0.419355   
        5      0.141667  0.015670  0.0781499  0.078150  0.056911  1.0       -0.2   
        9      0.128063  0.069841  0.0952381  0.095238  0.081395  0.5   0.272727   
        1000  0.0102128  0.140152  0.0495495  0.049550  0.062937  0.0          0   
        1001  0.0773119 -0.039024  0.0333333  0.033333  0.029703  1.0       0.25   
        1002   0.172014  0.535714   0.297404  0.297404  0.203883  1.0   0.222222   
        1003  0.0975379 -0.082639  0.0470158  0.047016  0.033816  0.0          0   
        1004   0.101544 -0.002070  0.0744976  0.074498  0.065789  1.0  0.0384615   
        
                     DF        BP   COMPLETE   SERVEADV  winner  
        0          0.15  0.428571  0.0599831   0.119966       1  
        1             0  0.500000   0.208333   0.416667       1  
        2    -0.0526316  0.300000  0.0918644   0.183729       1  
        3     0.0588235       NaN   0.158948   0.317896       1  
        4    -0.0322581 -0.300000   0.115789   0.231579       1  
        5           0.1 -0.200000  0.0781499     0.1563       1  
        9      0.136364  0.257143  0.0952381   0.190476       1  
        1000   0.173913  0.333333  0.0495495  0.0990991       1  
        1001   -0.09375 -0.166667  0.0333333  0.0666667       1  
        1002  -0.222222       NaN   0.297404   0.594807       1  
        1003   0.103448  0.153846  0.0470158  0.0940315       1  
        1004 -0.0384615  0.416667  0.0744976   0.148995       1  
\end{Verbatim}
            
    Finalmente, se ordena de acuerdo al ranking de cada uno de los
jugadores. 'Player 1' será el jugador con mayor ranking, 'Player 2' será
el que tiene menos ranking. Si ganó el jugador con mayor ranking, la
salida será '1', de caso contrario, la salida será '0'. Se guarda el
resultado en un archivo csv.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{}Now order according to ranking to see how good they are}
        
        \PY{n}{features2016} \PY{o}{=} \PY{n}{results2016}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{POINTS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        
        \PY{n}{features2016}\PY{o}{=}\PY{n}{features2016}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{player1}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{features2016}\PY{o}{=}\PY{n}{features2016}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{player2}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{features2016}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
            \PY{k}{if}\PY{p}{(}\PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZlt{}}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{:}
                \PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{results2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                \PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{results2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{k}{else}\PY{p}{:}
                \PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{results2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                \PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{results2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                \PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{*}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}
                \PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{l+m+mi}{0}
        
        \PY{n}{features2016}\PY{o}{=}\PY{n}{features2016}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}        
        \PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{,}\PY{l+m+mi}{1000}\PY{p}{,}\PY{l+m+mi}{1001}\PY{p}{,}\PY{l+m+mi}{1002}\PY{p}{,}\PY{l+m+mi}{1003}\PY{p}{,}\PY{l+m+mi}{1004}\PY{p}{]}\PY{p}{]}
        
        \PY{n}{features2016}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{train3.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{header}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{false}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{index}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{false}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{features2016}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{train3.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{features2016}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{,}\PY{l+m+mi}{1000}\PY{p}{,}\PY{l+m+mi}{1001}\PY{p}{,}\PY{l+m+mi}{1002}\PY{p}{,}\PY{l+m+mi}{1003}\PY{p}{,}\PY{l+m+mi}{1004}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:}       Unnamed: 0   RANK  POINTS        FS      W1SP      W2SP       WSP  \textbackslash{}
        0              0   -4.0    19.0  0.066460 -0.062500 -0.073733 -0.059983   
        1              1 -121.0   426.0  0.022645 -0.120000 -0.314700 -0.208333   
        2              2  -53.0   965.0 -0.003729  0.099391  0.083810  0.091864   
        3              3 -726.0   611.0  0.035322  0.066667  0.275120  0.158948   
        4              4  -39.0   177.0  0.140351  0.171875 -0.051843  0.115789   
        5              5  -21.0   775.0 -0.079745  0.141667  0.015670  0.078150   
        9              9  -13.0   785.0  0.036494 -0.128063 -0.069841 -0.095238   
        1000        1000 -248.0  1240.0 -0.005484  0.010213  0.140152  0.049550   
        1001        1001  -21.0   230.0  0.031176  0.077312 -0.039024  0.033333   
        1002        1002  -34.0  4900.0  0.256491  0.172014  0.535714  0.297404   
        1003        1003  -25.0  3005.0  0.072072  0.097538 -0.082639  0.047016   
        1004        1004  -40.0  1735.0  0.011088  0.101544 -0.002070  0.074498   
        
                   WRP       TPW  TMW      ACES        DF        BP  COMPLETE  \textbackslash{}
        0    -0.059983 -0.100000 -1.0  0.250000 -0.150000 -0.428571 -0.059983   
        1    -0.208333 -0.212766 -1.0 -0.200000 -0.000000 -0.500000 -0.208333   
        2     0.091864  0.119266  0.0  0.210526 -0.052632  0.300000  0.091864   
        3     0.158948  0.148515  1.0  0.470588  0.058824  0.000000  0.158948   
        4     0.115789  0.079070  1.0  0.419355 -0.032258 -0.300000  0.115789   
        5     0.078150  0.056911  1.0 -0.200000  0.100000 -0.200000  0.078150   
        9    -0.095238 -0.081395 -0.5 -0.272727 -0.136364 -0.257143 -0.095238   
        1000  0.049550  0.062937  0.0  0.000000  0.173913  0.333333  0.049550   
        1001  0.033333  0.029703  1.0  0.250000 -0.093750 -0.166667  0.033333   
        1002  0.297404  0.203883  1.0  0.222222 -0.222222  0.000000  0.297404   
        1003  0.047016  0.033816  0.0  0.000000  0.103448  0.153846  0.047016   
        1004  0.074498  0.065789  1.0  0.038462 -0.038462  0.416667  0.074498   
        
              SERVEADV  winner          player1                player2  
        0    -0.119966       0    Denis Istomin      Mikhail Kukushkin  
        1    -0.416667       0    Dusan Lajovic         Radek Stepanek  
        2     0.183729       1    Bernard Tomic          Nicolas Mahut  
        3     0.317896       1       Ivan Dodig        Oliver Anderson  
        4     0.231579       1    Lucas Pouille     Yoshihito Nishioka  
        5     0.156300       1     David Goffin        Thomaz Bellucci  
        9    -0.190476       0     Gilles Simon        Grigor Dimitrov  
        1000  0.099099       1        Jack Sock  Juan Martin Del Potro  
        1001  0.066667       1      Sam Querrey          Lucas Pouille  
        1002  0.594807       1     Rafael Nadal       Andrey Kuznetsov  
        1003  0.094032       1    Kei Nishikori          Fabio Fognini  
        1004  0.148995       1  Richard Gasquet      Fernando Verdasco  
\end{Verbatim}
            
    \subsubsection{Dataset de vallidación y de
test}\label{dataset-de-vallidaciuxf3n-y-de-test}

A continuación se obtienen los parámetros para el segundo y tercer
dataset, de validación y de test. La finalidad de los mismos es poder
modelar los hiperparámetros de la red neuronal, para encontrar el modelo
más óptimo. Para ello no se deben tener en cuenta los stats de ningún
partido, ni se puede acceder a los resultados de los historiales en el
año 2018 ni 2019. Primero, se obtiene la lista de todos los jugadores
del dataset anterior.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{all\PYZus{}winner\PYZus{}players}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{all\PYZus{}winner\PYZus{}players}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        
        \PY{n}{all\PYZus{}loser\PYZus{}players}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{all\PYZus{}loser\PYZus{}players}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}print(all\PYZus{}winner\PYZus{}players)}
        \PY{c+c1}{\PYZsh{}print(all\PYZus{}loser\PYZus{}players)}
        
        \PY{n}{all\PYZus{}players}\PY{o}{=}\PY{n}{all\PYZus{}winner\PYZus{}players}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{all\PYZus{}loser\PYZus{}players}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{all\PYZus{}players}\PY{o}{=}\PY{n}{all\PYZus{}players}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{p}{;}
        \PY{c+c1}{\PYZsh{}players\PYZus{}list=all\PYZus{}players.ID.unique()}
        \PY{c+c1}{\PYZsh{}players\PYZus{}list.sort()}
        \PY{c+c1}{\PYZsh{}players\PYZus{}list}
        \PY{c+c1}{\PYZsh{}all\PYZus{}players}
\end{Verbatim}


    Luego se obtiene el archivo 'atp\_matches\_2018'. Notese que se extrae
solo los datos de los jugadores, los ranking de los mismos y el dato de
quién gano el partido. Además, se eliminan a todos aquellos jugadores
que no se encuentran en el dataset anterior, ya que no hay información
suficiente para poder realizar la predicción. Debajo se muestra un
ejemplo de un partido obtenido.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{predict\PYZus{}dataset} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/atp\PYZus{}matches\PYZus{}2018.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}select what I want from the other dataset}
        \PY{n}{labels}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}rank}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}rank\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}rank}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}rank\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{predict\PYZus{}dataset}\PY{o}{=}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{n}{labels}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{display}\PY{p}{(}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}remove players that I don\PYZsq{}t have the data of}
        \PY{n}{predict\PYZus{}dataset} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{n}{all\PYZus{}players}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{]}
        \PY{n}{display}\PY{p}{(}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
        \PY{n}{predict\PYZus{}dataset} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
        
        \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{197}\PY{p}{]}
\end{Verbatim}


    
    \begin{verbatim}
(2889, 8)
    \end{verbatim}

    
    
    \begin{verbatim}
(2751, 8)
    \end{verbatim}

    
\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} winner\_id                      104755
        winner\_name           Richard Gasquet
        loser\_id                       104882
        loser\_name                Blaz Kavcic
        winner\_rank                        31
        winner\_rank\_points               1375
        loser\_rank                        106
        loser\_rank\_points                 540
        Name: 197, dtype: object
\end{Verbatim}
            
    Se repite el cálculo de TMW (partidos totales ganados), comparando
únicamente con el dataset de entrenamiento.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{c+c1}{\PYZsh{}this function returns TMW of a player against a certain adversary}
        
        \PY{k}{def} \PY{n+nf}{getMatchesWonPer}\PY{p}{(}\PY{n}{myopponent}\PY{p}{,}\PY{n}{adversary}\PY{p}{)}\PY{p}{:}
            \PY{n}{exp1}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{myopponent}\PY{p}{]}\PY{p}{)}
            \PY{n}{exp2}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{adversary}\PY{p}{]}\PY{p}{)}
            \PY{n}{exp3}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{myopponent}\PY{p}{]}\PY{p}{)}
            \PY{n}{exp4}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{adversary}\PY{p}{]}\PY{p}{)}
        
            \PY{n}{matches\PYZus{}won}\PY{o}{=}\PY{n+nb}{len}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{exp1}\PY{o}{\PYZam{}}\PY{n}{exp2}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{)}
            \PY{n}{matches\PYZus{}lost}\PY{o}{=}\PY{n+nb}{len}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{exp3}\PY{o}{\PYZam{}}\PY{n}{exp4}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{)}
            \PY{k}{if} \PY{p}{(}\PY{n}{matches\PYZus{}won}\PY{o}{+}\PY{n}{matches\PYZus{}lost}\PY{p}{)}\PY{o}{!=}\PY{l+m+mi}{0}\PY{p}{:}
                \PY{n}{matchesWonPer} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{o}{/}\PY{p}{(}\PY{n}{matches\PYZus{}won}\PY{o}{+}\PY{n}{matches\PYZus{}lost}\PY{p}{)}
            \PY{k}{else}\PY{p}{:}
                \PY{n}{matchesWonPer}\PY{o}{=}\PY{l+m+mi}{0}
                
            \PY{k}{return} \PY{n}{matchesWonPer}
        
        \PY{n}{predict\PYZus{}dataset}\PY{o}{=}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{TMW}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
        \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
        
            \PY{n}{TMW1}\PY{o}{=}\PY{n}{getMatchesWonPer}\PY{p}{(}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
            \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{TMW1} \PY{o}{\PYZhy{}} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{TMW1}\PY{p}{)}
            \PY{k}{if} \PY{n}{i}\PY{o}{==}\PY{l+m+mi}{197}\PY{p}{:}
                \PY{n+nb}{print}\PY{p}{(}\PY{n}{TMW1}\PY{p}{)}
            
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
0

    \end{Verbatim}

    Como ya se ha mencionado anteriormente, se podría entrenar una red que
determine un ganador o perdedor con los stats del partido. Sin embargo,
esto no representa ningún desafío alguno ya que se quiere predecir cada
partido sin tener acceso a los datos del desarrollo del mismo.

Entonces, se realiza lo que se denomina 'Historical Averaging'. Se
utiliza un promedio de las caracteristicas del jugador. Al momento de
hacer 'Historical Averaging', el promedio no debe ser lineal a los
partidos anteriores de cada jugador, ya que un jugador puede haber
jugado partidos más dificiles que otro. La solución a esto es realiza
una búsqueda de oponentes comunes entre los jugadores.

Por ejemplo, se buscan todos los oponentes en común de cada jugador y se
calcula el promedio del porcentaje de puntos devueltos ganados (WRP).
Este procesamiento es muy denso ya que se debe elaborar una lista de
jugadores en común para cada partido. Debajo se muestra un ejemplo de
búsqueda de oponentes comunes, y la extracción del promedio de STATS
entre los jugadores.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{c+c1}{\PYZsh{}this function returns WRP of a player against a certain adversary}
         
         \PY{k}{def} \PY{n+nf}{getSTATSi}\PY{p}{(}\PY{n}{myopponent}\PY{p}{,}\PY{n}{adversary}\PY{p}{)}\PY{p}{:}
             \PY{n}{exp1}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{myopponent}\PY{p}{]}\PY{p}{)}
             \PY{n}{exp2}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{adversary}\PY{p}{]}\PY{p}{)}
             \PY{n}{exp3}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{myopponent}\PY{p}{]}\PY{p}{)}
             \PY{n}{exp4}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{adversary}\PY{p}{]}\PY{p}{)}
         
             \PY{n}{matches\PYZus{}won}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{exp1}\PY{o}{\PYZam{}}\PY{n}{exp2}\PY{p}{)}\PY{p}{]}
             \PY{n}{matches\PYZus{}won}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{tourney\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}   
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}pts\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
             
             \PY{n}{matches\PYZus{}lost}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{exp3}\PY{o}{\PYZam{}}\PY{n}{exp4}\PY{p}{)}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{o}{=}\PY{n}{matches\PYZus{}lost}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{tourney\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}   
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}pts\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         
             \PY{n}{matches\PYZus{}wonlen}\PY{o}{=}\PY{n+nb}{len}\PY{p}{(}\PY{n}{matches\PYZus{}won}\PY{o}{.}\PY{n}{index}\PY{p}{)}
             \PY{n}{matches\PYZus{}lostlen}\PY{o}{=}\PY{n+nb}{len}\PY{p}{(}\PY{n}{matches\PYZus{}lost}\PY{o}{.}\PY{n}{index}\PY{p}{)}
             \PY{k}{if} \PY{p}{(}\PY{n}{matches\PYZus{}wonlen}\PY{o}{+}\PY{n}{matches\PYZus{}lostlen}\PY{p}{)}\PY{o}{!=}\PY{l+m+mi}{0}\PY{p}{:}
                 \PY{n}{matchesWonPer} \PY{o}{=} \PY{n}{matches\PYZus{}wonlen}\PY{o}{/}\PY{p}{(}\PY{n}{matches\PYZus{}wonlen}\PY{o}{+}\PY{n}{matches\PYZus{}lostlen}\PY{p}{)}
             \PY{k}{else}\PY{p}{:}
                 \PY{n}{matchesWonPer}\PY{o}{=}\PY{l+m+mi}{0}
                 
             \PY{c+c1}{\PYZsh{}calculate STATS of all the matches against the adversary}
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}svpt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}1stIn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndWon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}2ndTot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{*} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{*} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{*} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{*} \PY{p}{(}\PY{l+m+mi}{1}\PY{o}{\PYZhy{}}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ret\PYZus{}tot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}pts\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}pts\PYZus{}w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}ace}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}df}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{/}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TotGames}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpSaved}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{/}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l\PYZus{}bpFaced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
             \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{*}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{*}\PY{n}{matches\PYZus{}lost}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             
             \PY{n}{matches\PYZus{}won}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{matches\PYZus{}lost}\PY{p}{)}  
             \PY{n}{FS}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{W1SP}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{W2SP}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{WSP}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{WRP}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{TPW}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{ACES}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{DF}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{BP}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{COMPLETE}\PY{o}{=}\PY{n}{matches\PYZus{}won}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{TMW2}\PY{o}{=}\PY{n}{matchesWonPer}
             
             \PY{k}{return} \PY{p}{(}\PY{n}{FS}\PY{p}{,}\PY{n}{W1SP}\PY{p}{,}\PY{n}{W2SP}\PY{p}{,}\PY{n}{WSP}\PY{p}{,}\PY{n}{WRP}\PY{p}{,}\PY{n}{TPW}\PY{p}{,}\PY{n}{ACES}\PY{p}{,}\PY{n}{DF}\PY{p}{,}\PY{n}{BP}\PY{p}{,}\PY{n}{COMPLETE}\PY{p}{,}\PY{n}{TMW2}\PY{p}{)}
         
         \PY{k}{def} \PY{n+nf}{getSTATS}\PY{p}{(}\PY{n}{id1}\PY{p}{,}\PY{n}{id2}\PY{p}{,}\PY{n}{label}\PY{p}{)}\PY{p}{:}
         
             \PY{c+c1}{\PYZsh{}id1 = 105223 \PYZsh{}delpo}
             \PY{c+c1}{\PYZsh{}id2 = 105992 \PYZsh{}Ryan harrison}
         
             \PY{c+c1}{\PYZsh{}id1 = 104229 \PYZsh{}nadal}
             \PY{c+c1}{\PYZsh{}id2 = 105032 \PYZsh{}groth}
             \PY{n}{array}\PY{o}{=}\PY{p}{[}\PY{n}{id1}\PY{p}{,}\PY{n}{id2}\PY{p}{]}
             \PY{n}{locate\PYZus{}1}\PY{o}{=}\PY{n}{all\PYZus{}players}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{all\PYZus{}players}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{array}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}
             \PY{n}{locate\PYZus{}2}\PY{o}{=}\PY{n}{all\PYZus{}players}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{all\PYZus{}players}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{array}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}
         
             \PY{k}{if} \PY{n}{label}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{El jugador \PYZsh{}1 es: }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{locate\PYZus{}1}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{El jugador \PYZsh{}2 es: }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{locate\PYZus{}2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
         
             \PY{c+c1}{\PYZsh{}print(\PYZsq{}En el 2017 se enfrentaron a: \PYZsq{} )}
         
             \PY{n}{opponents\PYZus{}p1\PYZus{}1}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{array}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}
             \PY{n}{opponents\PYZus{}p1\PYZus{}1}\PY{o}{=}\PY{n}{opponents\PYZus{}p1\PYZus{}1}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
             \PY{n}{opponents\PYZus{}p1\PYZus{}1}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{n}{opponents\PYZus{}p1\PYZus{}2}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{array}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}
             \PY{n}{opponents\PYZus{}p1\PYZus{}2}\PY{o}{=}\PY{n}{opponents\PYZus{}p1\PYZus{}2}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
             \PY{n}{opponents\PYZus{}p1\PYZus{}2}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{n}{opponents\PYZus{}p1}\PY{o}{=}\PY{n}{opponents\PYZus{}p1\PYZus{}1}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{opponents\PYZus{}p1\PYZus{}2}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{p}{)}
         
             \PY{n}{opponents\PYZus{}p2\PYZus{}1}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{array}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}
             \PY{n}{opponents\PYZus{}p2\PYZus{}1}\PY{o}{=}\PY{n}{opponents\PYZus{}p2\PYZus{}1}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
             \PY{n}{opponents\PYZus{}p2\PYZus{}1}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{n}{opponents\PYZus{}p2\PYZus{}2}\PY{o}{=}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{(}\PY{n}{pd\PYZus{}atp\PYZus{}matches}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{n}{array}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}
             \PY{n}{opponents\PYZus{}p2\PYZus{}2}\PY{o}{=}\PY{n}{opponents\PYZus{}p2\PYZus{}2}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
             \PY{n}{opponents\PYZus{}p2\PYZus{}2}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{n}{opponents\PYZus{}p2}\PY{o}{=}\PY{n}{opponents\PYZus{}p2\PYZus{}1}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{opponents\PYZus{}p2\PYZus{}2}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{p}{)}
         
             \PY{n}{common\PYZus{}opponents} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{opponents\PYZus{}p1}\PY{p}{,} \PY{n}{opponents\PYZus{}p2}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME\PYZus{}x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
             \PY{n}{common\PYZus{}opponents}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{FS1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{W1SP1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{W2SP1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{WSP1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{WRP1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{TPW1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{ACES1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{DF1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{BP1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{COMPLETE1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{TMW2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
             \PY{n}{common\PYZus{}opponents}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{FS2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{W1SP2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{W2SP2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{WSP2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{WRP2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{TPW2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{ACES2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{DF2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{BP2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{COMPLETE2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{TMW2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
         
         
             \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                 \PY{n}{FS}\PY{p}{,}\PY{n}{W1SP}\PY{p}{,}\PY{n}{W2SP}\PY{p}{,}\PY{n}{WSP}\PY{p}{,}\PY{n}{WRP}\PY{p}{,}\PY{n}{TPW}\PY{p}{,}\PY{n}{ACES}\PY{p}{,}\PY{n}{DF}\PY{p}{,}\PY{n}{BP}\PY{p}{,}\PY{n}{COMPLETE}\PY{p}{,}\PY{n}{TMW2} \PY{o}{=} \PY{n}{getSTATSi}\PY{p}{(}\PY{n}{id1}\PY{p}{,}\PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
               
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{FS}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{W1SP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{W2SP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{WSP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{WRP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{TPW}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{ACES}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{DF}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{BP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{COMPLETE}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW21}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{TMW2}
                 
                 \PY{n}{FS}\PY{p}{,}\PY{n}{W1SP}\PY{p}{,}\PY{n}{W2SP}\PY{p}{,}\PY{n}{WSP}\PY{p}{,}\PY{n}{WRP}\PY{p}{,}\PY{n}{TPW}\PY{p}{,}\PY{n}{ACES}\PY{p}{,}\PY{n}{DF}\PY{p}{,}\PY{n}{BP}\PY{p}{,}\PY{n}{COMPLETE}\PY{p}{,}\PY{n}{TMW2} \PY{o}{=} \PY{n}{getSTATSi}\PY{p}{(}\PY{n}{id2}\PY{p}{,}\PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ID}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{FS}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{W1SP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{W2SP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{WSP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{WRP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{TPW}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{ACES}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{DF}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{BP}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{COMPLETE}
                 \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW22}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{TMW2}
                 
             \PY{k}{if} \PY{n}{label}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{:}
                 \PY{n}{display\PYZus{}side\PYZus{}by\PYZus{}side}\PY{p}{(}\PY{n}{opponents\PYZus{}p1}\PY{p}{,}\PY{n}{opponents\PYZus{}p2}\PY{p}{,}\PY{n}{common\PYZus{}opponents}\PY{p}{)}
                 
             \PY{n}{FS}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{W1SP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{W2SP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{WSP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{WRP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{TPW}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{ACES}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{DF}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}
             \PY{n}{BP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{COMPLETE}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{SERVEADV1}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{SERVEADV2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{SERVEADV}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}\PY{n}{TMW2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}
         
             \PY{k}{if} \PY{n}{common\PYZus{}opponents}\PY{o}{.}\PY{n}{empty}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DataFrame is empty!}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{k}{else}\PY{p}{:}    
                 \PY{n}{FS}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{W1SP}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{W2SP}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{WSP}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{WRP}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{TPW}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{ACES}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{DF}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{BP}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{COMPLETE}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{SERVEADV1}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{SERVEADV2}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
                 \PY{n}{SERVEADV}\PY{o}{=}\PY{n}{SERVEADV1}\PY{o}{\PYZhy{}}\PY{n}{SERVEADV2}
                 \PY{n}{TMW2}\PY{o}{=}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW21}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{n}{common\PYZus{}opponents}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW22}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
         
             \PY{k}{return}\PY{p}{(}\PY{n}{FS}\PY{p}{,}\PY{n}{W1SP}\PY{p}{,}\PY{n}{W2SP}\PY{p}{,}\PY{n}{WSP}\PY{p}{,}\PY{n}{WRP}\PY{p}{,}\PY{n}{TPW}\PY{p}{,}\PY{n}{ACES}\PY{p}{,}\PY{n}{DF}\PY{p}{,}\PY{n}{BP}\PY{p}{,}\PY{n}{COMPLETE}\PY{p}{,}\PY{n}{SERVEADV}\PY{p}{,}\PY{n}{TMW2}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}\PYZsh{}Run to get STATS}
         \PY{n}{predict\PYZus{}dataset}\PY{o}{=}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{FS}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{W1SP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{W2SP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{WSP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{WRP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{TPW}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{ACES}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{DF}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{BP}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{COMPLETE}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{SERVEADV}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{TMW2}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
         
         \PY{n}{label}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
         \PY{c+c1}{\PYZsh{}for i in range(0,2):}
             \PY{k}{if} \PY{n}{i} \PY{o}{==} \PY{l+m+mi}{10}\PY{p}{:}
                 \PY{n}{label}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{;}
             \PY{k}{else}\PY{p}{:}
                 \PY{n}{label}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{;}
                 
             \PY{n}{nFS}\PY{p}{,}\PY{n}{nW1SP}\PY{p}{,}\PY{n}{nW2SP}\PY{p}{,}\PY{n}{nWSP}\PY{p}{,}\PY{n}{nWRP}\PY{p}{,}\PY{n}{nTPW}\PY{p}{,}\PY{n}{nACES}\PY{p}{,}\PY{n}{nDF}\PY{p}{,}\PY{n}{nBP}\PY{p}{,}\PY{n}{nCOMPLETE}\PY{p}{,}\PY{n}{nSERVEADV}\PY{p}{,}\PY{n}{nTMW2} \PY{o}{=} \PY{n}{getSTATS}\PY{p}{(}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{label}\PY{p}{)}
             
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nFS}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nW1SP}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nW2SP}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nWSP}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nWRP}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nTPW}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nACES}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nDF}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nBP}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nCOMPLETE}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nSERVEADV}
             \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nTMW2}
         
             \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Processing match \PYZsh{}}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{k}{if}\PY{p}{(}\PY{n}{label}\PY{o}{==}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Processing match \#0

Processing match \#1

Processing match \#2

Processing match \#3

DataFrame is empty!
Processing match \#4

Processing match \#5

Processing match \#6

Processing match \#7

Processing match \#8

Processing match \#9

El jugador \#1 es: Kyle Edmund
El jugador \#2 es: Denis Shapovalov

    \end{Verbatim}

    
    
    \begin{Verbatim}[commandchars=\\\{\}]
Processing match \#10

winner\_id                       106378
winner\_name                Kyle Edmund
loser\_id                        133430
loser\_name            Denis Shapovalov
winner\_rank                         50
winner\_rank\_points                 992
loser\_rank                          51
loser\_rank\_points                  981
TMW                                 -1
ACES                        -0.0849184
BP                            0.134423
COMPLETE                    -0.0115978
DF                          -0.0562155
FS                          -0.0105533
SERVEADV                    -0.0399233
TMW2                              -0.1
TPW                       -9.94938e-05
W1SP                        -0.0422053
W2SP                        -0.0357346
WRP                         0.00442416
WSP                         -0.0443475
Name: 10, dtype: object
DataFrame is empty!
Processing match \#11

Processing match \#12

Processing match \#13

Processing match \#14

Processing match \#15

Processing match \#16

Processing match \#17

Processing match \#18

Processing match \#19

Processing match \#20

DataFrame is empty!
Processing match \#21

Processing match \#22

Processing match \#23

Processing match \#24

Processing match \#25

Processing match \#26

Processing match \#27

Processing match \#28

Processing match \#29

Processing match \#30

Processing match \#31

DataFrame is empty!
Processing match \#32

DataFrame is empty!
Processing match \#33

Processing match \#34

DataFrame is empty!
Processing match \#35

Processing match \#36

Processing match \#37

Processing match \#38

Processing match \#39

Processing match \#40

Processing match \#41

Processing match \#42

Processing match \#43

Processing match \#44

Processing match \#45

Processing match \#46

DataFrame is empty!
Processing match \#47

Processing match \#48

Processing match \#49

Processing match \#50

Processing match \#51

Processing match \#52

Processing match \#53

Processing match \#54

Processing match \#55

Processing match \#56

Processing match \#57

Processing match \#58

Processing match \#59

Processing match \#60

Processing match \#61

DataFrame is empty!
Processing match \#62

Processing match \#63

DataFrame is empty!
Processing match \#64

Processing match \#65

Processing match \#66

DataFrame is empty!
Processing match \#67

Processing match \#68

Processing match \#69

Processing match \#70

Processing match \#71

Processing match \#72

Processing match \#73

Processing match \#74

Processing match \#75

Processing match \#76

Processing match \#77

DataFrame is empty!
Processing match \#78

Processing match \#79

Processing match \#80

Processing match \#81

Processing match \#82

Processing match \#83

Processing match \#84

Processing match \#85

Processing match \#86

Processing match \#87

DataFrame is empty!
Processing match \#88

Processing match \#89

DataFrame is empty!
Processing match \#90

Processing match \#91

Processing match \#92

Processing match \#93

Processing match \#94

Processing match \#95

Processing match \#96

Processing match \#97

Processing match \#98

Processing match \#99

Processing match \#100

Processing match \#101

Processing match \#102

Processing match \#103

Processing match \#104

Processing match \#105

Processing match \#106

Processing match \#107

Processing match \#108

Processing match \#109

DataFrame is empty!
Processing match \#110

Processing match \#111

Processing match \#112

DataFrame is empty!
Processing match \#113

Processing match \#114

Processing match \#115

Processing match \#116

DataFrame is empty!
Processing match \#117

Processing match \#118

Processing match \#119

Processing match \#120

Processing match \#121

Processing match \#122

Processing match \#123

Processing match \#124

Processing match \#125

Processing match \#126

Processing match \#127

Processing match \#128

Processing match \#129

Processing match \#130

Processing match \#131

Processing match \#132

Processing match \#133

Processing match \#134

Processing match \#135

Processing match \#136

Processing match \#137

DataFrame is empty!
Processing match \#138

Processing match \#139

Processing match \#140

Processing match \#141

DataFrame is empty!
Processing match \#142

Processing match \#143

Processing match \#144

DataFrame is empty!
Processing match \#145

Processing match \#146

Processing match \#147

Processing match \#148

Processing match \#149

Processing match \#150

Processing match \#151

Processing match \#152

Processing match \#153

DataFrame is empty!
Processing match \#154

Processing match \#155

Processing match \#156

Processing match \#157

Processing match \#158

Processing match \#159

DataFrame is empty!
Processing match \#160

Processing match \#161

Processing match \#162

Processing match \#163

Processing match \#164

Processing match \#165

DataFrame is empty!
Processing match \#166

Processing match \#167

Processing match \#168

Processing match \#169

Processing match \#170

Processing match \#171

DataFrame is empty!
Processing match \#172

Processing match \#173

Processing match \#174

Processing match \#175

Processing match \#176

Processing match \#177

Processing match \#178

DataFrame is empty!
Processing match \#179

Processing match \#180

Processing match \#181

Processing match \#182

Processing match \#183

Processing match \#184

Processing match \#185

Processing match \#186

Processing match \#187

Processing match \#188

Processing match \#189

Processing match \#190

Processing match \#191

Processing match \#192

Processing match \#193

Processing match \#194

Processing match \#195

Processing match \#196

Processing match \#197

Processing match \#198

DataFrame is empty!
Processing match \#199

Processing match \#200

Processing match \#201

Processing match \#202

Processing match \#203

Processing match \#204

Processing match \#205

Processing match \#206

Processing match \#207

Processing match \#208

Processing match \#209

Processing match \#210

Processing match \#211

Processing match \#212

Processing match \#213

Processing match \#214

Processing match \#215

Processing match \#216

Processing match \#217

Processing match \#218

Processing match \#219

Processing match \#220

Processing match \#221

Processing match \#222

Processing match \#223

Processing match \#224

Processing match \#225

Processing match \#226

Processing match \#227

Processing match \#228

Processing match \#229

Processing match \#230

DataFrame is empty!
Processing match \#231

Processing match \#232

Processing match \#233

Processing match \#234

Processing match \#235

Processing match \#236

Processing match \#237

Processing match \#238

Processing match \#239

Processing match \#240

Processing match \#241

DataFrame is empty!
Processing match \#242

Processing match \#243

Processing match \#244

Processing match \#245

Processing match \#246

Processing match \#247

Processing match \#248

Processing match \#249

Processing match \#250

Processing match \#251

Processing match \#252

Processing match \#253

Processing match \#254

Processing match \#255

Processing match \#256

Processing match \#257

Processing match \#258

Processing match \#259

Processing match \#260

Processing match \#261

Processing match \#262

Processing match \#263

DataFrame is empty!
Processing match \#264

DataFrame is empty!
Processing match \#265

Processing match \#266

DataFrame is empty!
Processing match \#267

DataFrame is empty!
Processing match \#268

DataFrame is empty!
Processing match \#269

DataFrame is empty!
Processing match \#270

DataFrame is empty!
Processing match \#271

DataFrame is empty!
Processing match \#272

Processing match \#273

DataFrame is empty!
Processing match \#274

DataFrame is empty!
Processing match \#275

DataFrame is empty!
Processing match \#276

DataFrame is empty!
Processing match \#277

DataFrame is empty!
Processing match \#278

Processing match \#279

DataFrame is empty!
Processing match \#280

Processing match \#281

DataFrame is empty!
Processing match \#282

Processing match \#283

DataFrame is empty!
Processing match \#284

Processing match \#285

Processing match \#286

Processing match \#287

Processing match \#288

DataFrame is empty!
Processing match \#289

Processing match \#290

Processing match \#291

Processing match \#292

Processing match \#293

Processing match \#294

Processing match \#295

Processing match \#296

Processing match \#297

Processing match \#298

Processing match \#299

Processing match \#300

Processing match \#301

Processing match \#302

DataFrame is empty!
Processing match \#303

Processing match \#304

Processing match \#305

DataFrame is empty!
Processing match \#306

DataFrame is empty!
Processing match \#307

DataFrame is empty!
Processing match \#308

DataFrame is empty!
Processing match \#309

DataFrame is empty!
Processing match \#310

DataFrame is empty!
Processing match \#311

DataFrame is empty!
Processing match \#312

DataFrame is empty!
Processing match \#313

DataFrame is empty!
Processing match \#314

DataFrame is empty!
Processing match \#315

DataFrame is empty!
Processing match \#316

DataFrame is empty!
Processing match \#317

DataFrame is empty!
Processing match \#318

DataFrame is empty!
Processing match \#319

DataFrame is empty!
Processing match \#320

DataFrame is empty!
Processing match \#321

Processing match \#322

DataFrame is empty!
Processing match \#323

DataFrame is empty!
Processing match \#324

Processing match \#325

Processing match \#326

Processing match \#327

Processing match \#328

Processing match \#329

Processing match \#330

Processing match \#331

DataFrame is empty!
Processing match \#332

Processing match \#333

Processing match \#334

DataFrame is empty!
Processing match \#335

DataFrame is empty!
Processing match \#336

Processing match \#337

Processing match \#338

Processing match \#339

Processing match \#340

Processing match \#341

Processing match \#342

Processing match \#343

Processing match \#344

Processing match \#345

Processing match \#346

Processing match \#347

Processing match \#348

Processing match \#349

Processing match \#350

Processing match \#351

Processing match \#352

Processing match \#353

DataFrame is empty!
Processing match \#354

Processing match \#355

DataFrame is empty!
Processing match \#356

DataFrame is empty!
Processing match \#357

Processing match \#358

Processing match \#359

Processing match \#360

DataFrame is empty!
Processing match \#361

Processing match \#362

Processing match \#363

Processing match \#364

Processing match \#365

Processing match \#366

Processing match \#367

Processing match \#368

Processing match \#369

DataFrame is empty!
Processing match \#370

DataFrame is empty!
Processing match \#371

Processing match \#372

Processing match \#373

Processing match \#374

Processing match \#375

Processing match \#376

Processing match \#377

Processing match \#378

Processing match \#379

Processing match \#380

Processing match \#381

Processing match \#382

Processing match \#383

Processing match \#384

DataFrame is empty!
Processing match \#385

DataFrame is empty!
Processing match \#386

Processing match \#387

Processing match \#388

Processing match \#389

DataFrame is empty!
Processing match \#390

Processing match \#391

Processing match \#392

Processing match \#393

Processing match \#394

Processing match \#395

Processing match \#396

DataFrame is empty!
Processing match \#397

Processing match \#398

Processing match \#399

Processing match \#400

Processing match \#401

Processing match \#402

Processing match \#403

Processing match \#404

Processing match \#405

Processing match \#406

Processing match \#407

Processing match \#408

Processing match \#409

Processing match \#410

Processing match \#411

Processing match \#412

Processing match \#413

Processing match \#414

Processing match \#415

Processing match \#416

Processing match \#417

Processing match \#418

Processing match \#419

Processing match \#420

Processing match \#421

Processing match \#422

Processing match \#423

Processing match \#424

Processing match \#425

Processing match \#426

Processing match \#427

Processing match \#428

Processing match \#429

Processing match \#430

Processing match \#431

DataFrame is empty!
Processing match \#432

Processing match \#433

Processing match \#434

Processing match \#435

Processing match \#436

Processing match \#437

Processing match \#438

DataFrame is empty!
Processing match \#439

DataFrame is empty!
Processing match \#440

Processing match \#441

Processing match \#442

Processing match \#443

Processing match \#444

Processing match \#445

Processing match \#446

Processing match \#447

Processing match \#448

Processing match \#449

Processing match \#450

Processing match \#451

Processing match \#452

Processing match \#453

Processing match \#454

Processing match \#455

Processing match \#456

DataFrame is empty!
Processing match \#457

Processing match \#458

Processing match \#459

Processing match \#460

Processing match \#461

Processing match \#462

Processing match \#463

Processing match \#464

Processing match \#465

Processing match \#466

Processing match \#467

DataFrame is empty!
Processing match \#468

Processing match \#469

Processing match \#470

Processing match \#471

Processing match \#472

Processing match \#473

Processing match \#474

Processing match \#475

Processing match \#476

Processing match \#477

Processing match \#478

Processing match \#479

Processing match \#480

Processing match \#481

Processing match \#482

Processing match \#483

Processing match \#484

Processing match \#485

Processing match \#486

Processing match \#487

Processing match \#488

Processing match \#489

Processing match \#490

Processing match \#491

Processing match \#492

Processing match \#493

Processing match \#494

Processing match \#495

Processing match \#496

Processing match \#497

Processing match \#498

Processing match \#499

Processing match \#500

Processing match \#501

Processing match \#502

Processing match \#503

Processing match \#504

Processing match \#505

Processing match \#506

Processing match \#507

Processing match \#508

Processing match \#509

Processing match \#510

Processing match \#511

Processing match \#512

Processing match \#513

DataFrame is empty!
Processing match \#514

Processing match \#515

Processing match \#516

Processing match \#517

DataFrame is empty!
Processing match \#518

Processing match \#519

Processing match \#520

Processing match \#521

Processing match \#522

Processing match \#523

Processing match \#524

DataFrame is empty!
Processing match \#525

DataFrame is empty!
Processing match \#526

Processing match \#527

DataFrame is empty!
Processing match \#528

Processing match \#529

Processing match \#530

Processing match \#531

Processing match \#532

Processing match \#533

Processing match \#534

Processing match \#535

Processing match \#536

Processing match \#537

Processing match \#538

Processing match \#539

Processing match \#540

Processing match \#541

DataFrame is empty!
Processing match \#542

Processing match \#543

Processing match \#544

Processing match \#545

Processing match \#546

Processing match \#547

Processing match \#548

Processing match \#549

Processing match \#550

DataFrame is empty!
Processing match \#551

Processing match \#552

Processing match \#553

Processing match \#554

Processing match \#555

Processing match \#556

Processing match \#557

Processing match \#558

Processing match \#559

Processing match \#560

Processing match \#561

Processing match \#562

Processing match \#563

Processing match \#564

Processing match \#565

Processing match \#566

Processing match \#567

Processing match \#568

Processing match \#569

Processing match \#570

Processing match \#571

Processing match \#572

Processing match \#573

Processing match \#574

Processing match \#575

DataFrame is empty!
Processing match \#576

DataFrame is empty!
Processing match \#577

Processing match \#578

Processing match \#579

Processing match \#580

Processing match \#581

Processing match \#582

Processing match \#583

Processing match \#584

Processing match \#585

Processing match \#586

Processing match \#587

Processing match \#588

Processing match \#589

Processing match \#590

Processing match \#591

Processing match \#592

Processing match \#593

Processing match \#594

Processing match \#595

Processing match \#596

Processing match \#597

Processing match \#598

Processing match \#599

Processing match \#600

Processing match \#601

Processing match \#602

Processing match \#603

Processing match \#604

Processing match \#605

Processing match \#606

Processing match \#607

Processing match \#608

Processing match \#609

Processing match \#610

Processing match \#611

Processing match \#612

Processing match \#613

Processing match \#614

Processing match \#615

Processing match \#616

Processing match \#617

Processing match \#618

DataFrame is empty!
Processing match \#619

Processing match \#620

Processing match \#621

Processing match \#622

Processing match \#623

Processing match \#624

Processing match \#625

Processing match \#626

Processing match \#627

Processing match \#628

Processing match \#629

Processing match \#630

Processing match \#631

Processing match \#632

Processing match \#633

Processing match \#634

Processing match \#635

Processing match \#636

Processing match \#637

Processing match \#638

Processing match \#639

Processing match \#640

DataFrame is empty!
Processing match \#641

DataFrame is empty!
Processing match \#642

Processing match \#643

Processing match \#644

Processing match \#645

Processing match \#646

DataFrame is empty!
Processing match \#647

Processing match \#648

DataFrame is empty!
Processing match \#649

DataFrame is empty!
Processing match \#650

Processing match \#651

Processing match \#652

Processing match \#653

Processing match \#654

Processing match \#655

Processing match \#656

Processing match \#657

Processing match \#658

Processing match \#659

Processing match \#660

Processing match \#661

Processing match \#662

Processing match \#663

Processing match \#664

Processing match \#665

DataFrame is empty!
Processing match \#666

Processing match \#667

Processing match \#668

Processing match \#669

Processing match \#670

Processing match \#671

Processing match \#672

Processing match \#673

Processing match \#674

Processing match \#675

Processing match \#676

Processing match \#677

Processing match \#678

DataFrame is empty!
Processing match \#679

Processing match \#680

Processing match \#681

Processing match \#682

Processing match \#683

Processing match \#684

Processing match \#685

Processing match \#686

Processing match \#687

Processing match \#688

Processing match \#689

Processing match \#690

Processing match \#691

Processing match \#692

DataFrame is empty!
Processing match \#693

Processing match \#694

Processing match \#695

Processing match \#696

Processing match \#697

Processing match \#698

Processing match \#699

Processing match \#700

Processing match \#701

Processing match \#702

Processing match \#703

Processing match \#704

DataFrame is empty!
Processing match \#705

Processing match \#706

Processing match \#707

Processing match \#708

Processing match \#709

Processing match \#710

Processing match \#711

Processing match \#712

Processing match \#713

Processing match \#714

Processing match \#715

Processing match \#716

Processing match \#717

Processing match \#718

Processing match \#719

Processing match \#720

Processing match \#721

Processing match \#722

Processing match \#723

Processing match \#724

Processing match \#725

Processing match \#726

Processing match \#727

Processing match \#728

Processing match \#729

Processing match \#730

Processing match \#731

Processing match \#732

Processing match \#733

Processing match \#734

Processing match \#735

Processing match \#736

Processing match \#737

Processing match \#738

Processing match \#739

Processing match \#740

Processing match \#741

Processing match \#742

Processing match \#743

Processing match \#744

Processing match \#745

Processing match \#746

Processing match \#747

Processing match \#748

Processing match \#749

Processing match \#750

Processing match \#751

Processing match \#752

Processing match \#753

Processing match \#754

Processing match \#755

Processing match \#756

Processing match \#757

Processing match \#758

Processing match \#759

Processing match \#760

Processing match \#761

Processing match \#762

Processing match \#763

Processing match \#764

Processing match \#765

Processing match \#766

Processing match \#767

Processing match \#768

Processing match \#769

DataFrame is empty!
Processing match \#770

Processing match \#771

Processing match \#772

Processing match \#773

Processing match \#774

Processing match \#775

Processing match \#776

Processing match \#777

Processing match \#778

DataFrame is empty!
Processing match \#779

Processing match \#780

Processing match \#781

Processing match \#782

Processing match \#783

Processing match \#784

Processing match \#785

Processing match \#786

DataFrame is empty!
Processing match \#787

Processing match \#788

DataFrame is empty!
Processing match \#789

DataFrame is empty!
Processing match \#790

Processing match \#791

Processing match \#792

Processing match \#793

Processing match \#794

Processing match \#795

Processing match \#796

Processing match \#797

Processing match \#798

Processing match \#799

Processing match \#800

Processing match \#801

Processing match \#802

Processing match \#803

DataFrame is empty!
Processing match \#804

Processing match \#805

Processing match \#806

Processing match \#807

Processing match \#808

Processing match \#809

Processing match \#810

Processing match \#811

Processing match \#812

Processing match \#813

Processing match \#814

Processing match \#815

Processing match \#816

Processing match \#817

Processing match \#818

Processing match \#819

Processing match \#820

Processing match \#821

Processing match \#822

Processing match \#823

Processing match \#824

Processing match \#825

Processing match \#826

Processing match \#827

Processing match \#828

Processing match \#829

Processing match \#830

Processing match \#831

Processing match \#832

Processing match \#833

Processing match \#834

Processing match \#835

Processing match \#836

Processing match \#837

Processing match \#838

Processing match \#839

Processing match \#840

Processing match \#841

Processing match \#842

Processing match \#843

Processing match \#844

Processing match \#845

Processing match \#846

Processing match \#847

Processing match \#848

Processing match \#849

Processing match \#850

Processing match \#851

Processing match \#852

Processing match \#853

Processing match \#854

Processing match \#855

Processing match \#856

Processing match \#857

DataFrame is empty!
Processing match \#858

Processing match \#859

Processing match \#860

Processing match \#861

Processing match \#862

Processing match \#863

Processing match \#864

Processing match \#865

DataFrame is empty!
Processing match \#866

Processing match \#867

Processing match \#868

DataFrame is empty!
Processing match \#869

DataFrame is empty!
Processing match \#870

Processing match \#871

DataFrame is empty!
Processing match \#872

DataFrame is empty!
Processing match \#873

Processing match \#874

Processing match \#875

Processing match \#876

Processing match \#877

Processing match \#878

Processing match \#879

Processing match \#880

Processing match \#881

Processing match \#882

Processing match \#883

Processing match \#884

DataFrame is empty!
Processing match \#885

Processing match \#886

Processing match \#887

Processing match \#888

Processing match \#889

Processing match \#890

DataFrame is empty!
Processing match \#891

DataFrame is empty!
Processing match \#892

DataFrame is empty!
Processing match \#893

DataFrame is empty!
Processing match \#894

DataFrame is empty!
Processing match \#895

Processing match \#896

DataFrame is empty!
Processing match \#897

DataFrame is empty!
Processing match \#898

DataFrame is empty!
Processing match \#899

Processing match \#900

Processing match \#901

DataFrame is empty!
Processing match \#902

Processing match \#903

Processing match \#904

Processing match \#905

DataFrame is empty!
Processing match \#906

Processing match \#907

Processing match \#908

Processing match \#909

DataFrame is empty!
Processing match \#910

Processing match \#911

Processing match \#912

Processing match \#913

Processing match \#914

Processing match \#915

Processing match \#916

Processing match \#917

Processing match \#918

Processing match \#919

Processing match \#920

Processing match \#921

Processing match \#922

Processing match \#923

Processing match \#924

Processing match \#925

Processing match \#926

Processing match \#927

Processing match \#928

Processing match \#929

Processing match \#930

Processing match \#931

Processing match \#932

DataFrame is empty!
Processing match \#933

Processing match \#934

Processing match \#935

DataFrame is empty!
Processing match \#936

DataFrame is empty!
Processing match \#937

Processing match \#938

Processing match \#939

DataFrame is empty!
Processing match \#940

Processing match \#941

Processing match \#942

Processing match \#943

Processing match \#944

Processing match \#945

Processing match \#946

DataFrame is empty!
Processing match \#947

Processing match \#948

Processing match \#949

Processing match \#950

Processing match \#951

DataFrame is empty!
Processing match \#952

Processing match \#953

Processing match \#954

Processing match \#955

Processing match \#956

Processing match \#957

DataFrame is empty!
Processing match \#958

Processing match \#959

Processing match \#960

Processing match \#961

Processing match \#962

Processing match \#963

Processing match \#964

Processing match \#965

Processing match \#966

DataFrame is empty!
Processing match \#967

Processing match \#968

Processing match \#969

Processing match \#970

Processing match \#971

Processing match \#972

Processing match \#973

Processing match \#974

Processing match \#975

Processing match \#976

Processing match \#977

Processing match \#978

Processing match \#979

Processing match \#980

Processing match \#981

Processing match \#982

Processing match \#983

Processing match \#984

Processing match \#985

Processing match \#986

Processing match \#987

Processing match \#988

Processing match \#989

Processing match \#990

Processing match \#991

Processing match \#992

Processing match \#993

Processing match \#994

Processing match \#995

Processing match \#996

Processing match \#997

Processing match \#998

Processing match \#999

Processing match \#1000

Processing match \#1001

Processing match \#1002

Processing match \#1003

Processing match \#1004

Processing match \#1005

Processing match \#1006

Processing match \#1007

Processing match \#1008

Processing match \#1009

Processing match \#1010

Processing match \#1011

Processing match \#1012

DataFrame is empty!
Processing match \#1013

Processing match \#1014

Processing match \#1015

Processing match \#1016

Processing match \#1017

DataFrame is empty!
Processing match \#1018

Processing match \#1019

DataFrame is empty!
Processing match \#1020

Processing match \#1021

Processing match \#1022

Processing match \#1023

DataFrame is empty!
Processing match \#1024

Processing match \#1025

DataFrame is empty!
Processing match \#1026

Processing match \#1027

Processing match \#1028

Processing match \#1029

Processing match \#1030

Processing match \#1031

Processing match \#1032

Processing match \#1033

Processing match \#1034

Processing match \#1035

Processing match \#1036

Processing match \#1037

Processing match \#1038

Processing match \#1039

Processing match \#1040

Processing match \#1041

Processing match \#1042

Processing match \#1043

Processing match \#1044

Processing match \#1045

Processing match \#1046

Processing match \#1047

Processing match \#1048

Processing match \#1049

Processing match \#1050

Processing match \#1051

Processing match \#1052

Processing match \#1053

Processing match \#1054

Processing match \#1055

Processing match \#1056

Processing match \#1057

Processing match \#1058

Processing match \#1059

Processing match \#1060

Processing match \#1061

DataFrame is empty!
Processing match \#1062

Processing match \#1063

Processing match \#1064

DataFrame is empty!
Processing match \#1065

DataFrame is empty!
Processing match \#1066

DataFrame is empty!
Processing match \#1067

Processing match \#1068

Processing match \#1069

Processing match \#1070

Processing match \#1071

Processing match \#1072

Processing match \#1073

Processing match \#1074

DataFrame is empty!
Processing match \#1075

Processing match \#1076

Processing match \#1077

Processing match \#1078

Processing match \#1079

Processing match \#1080

DataFrame is empty!
Processing match \#1081

Processing match \#1082

Processing match \#1083

Processing match \#1084

Processing match \#1085

DataFrame is empty!
Processing match \#1086

Processing match \#1087

DataFrame is empty!
Processing match \#1088

Processing match \#1089

Processing match \#1090

Processing match \#1091

Processing match \#1092

Processing match \#1093

Processing match \#1094

DataFrame is empty!
Processing match \#1095

Processing match \#1096

DataFrame is empty!
Processing match \#1097

Processing match \#1098

Processing match \#1099

Processing match \#1100

Processing match \#1101

Processing match \#1102

Processing match \#1103

Processing match \#1104

Processing match \#1105

Processing match \#1106

DataFrame is empty!
Processing match \#1107

Processing match \#1108

Processing match \#1109

Processing match \#1110

Processing match \#1111

Processing match \#1112

Processing match \#1113

DataFrame is empty!
Processing match \#1114

Processing match \#1115

Processing match \#1116

Processing match \#1117

DataFrame is empty!
Processing match \#1118

Processing match \#1119

Processing match \#1120

Processing match \#1121

Processing match \#1122

Processing match \#1123

Processing match \#1124

Processing match \#1125

Processing match \#1126

Processing match \#1127

Processing match \#1128

Processing match \#1129

Processing match \#1130

Processing match \#1131

Processing match \#1132

Processing match \#1133

Processing match \#1134

Processing match \#1135

Processing match \#1136

Processing match \#1137

Processing match \#1138

DataFrame is empty!
Processing match \#1139

Processing match \#1140

Processing match \#1141

Processing match \#1142

Processing match \#1143

Processing match \#1144

Processing match \#1145

DataFrame is empty!
Processing match \#1146

Processing match \#1147

DataFrame is empty!
Processing match \#1148

Processing match \#1149

Processing match \#1150

Processing match \#1151

Processing match \#1152

DataFrame is empty!
Processing match \#1153

Processing match \#1154

DataFrame is empty!
Processing match \#1155

Processing match \#1156

Processing match \#1157

Processing match \#1158

Processing match \#1159

Processing match \#1160

Processing match \#1161

Processing match \#1162

Processing match \#1163

Processing match \#1164

Processing match \#1165

Processing match \#1166

Processing match \#1167

Processing match \#1168

Processing match \#1169

Processing match \#1170

Processing match \#1171

Processing match \#1172

Processing match \#1173

Processing match \#1174

Processing match \#1175

Processing match \#1176

Processing match \#1177

Processing match \#1178

Processing match \#1179

Processing match \#1180

Processing match \#1181

Processing match \#1182

Processing match \#1183

Processing match \#1184

Processing match \#1185

Processing match \#1186

Processing match \#1187

Processing match \#1188

Processing match \#1189

Processing match \#1190

Processing match \#1191

Processing match \#1192

Processing match \#1193

Processing match \#1194

Processing match \#1195

Processing match \#1196

Processing match \#1197

Processing match \#1198

Processing match \#1199

Processing match \#1200

Processing match \#1201

Processing match \#1202

Processing match \#1203

Processing match \#1204

Processing match \#1205

Processing match \#1206

Processing match \#1207

Processing match \#1208

Processing match \#1209

Processing match \#1210

Processing match \#1211

Processing match \#1212

Processing match \#1213

Processing match \#1214

Processing match \#1215

Processing match \#1216

Processing match \#1217

Processing match \#1218

Processing match \#1219

Processing match \#1220

Processing match \#1221

Processing match \#1222

Processing match \#1223

Processing match \#1224

Processing match \#1225

Processing match \#1226

Processing match \#1227

Processing match \#1228

Processing match \#1229

Processing match \#1230

Processing match \#1231

Processing match \#1232

DataFrame is empty!
Processing match \#1233

Processing match \#1234

Processing match \#1235

Processing match \#1236

Processing match \#1237

Processing match \#1238

DataFrame is empty!
Processing match \#1239

Processing match \#1240

Processing match \#1241

Processing match \#1242

Processing match \#1243

Processing match \#1244

Processing match \#1245

Processing match \#1246

Processing match \#1247

Processing match \#1248

Processing match \#1249

Processing match \#1250

Processing match \#1251

Processing match \#1252

Processing match \#1253

Processing match \#1254

Processing match \#1255

Processing match \#1256

DataFrame is empty!
Processing match \#1257

Processing match \#1258

Processing match \#1259

Processing match \#1260

Processing match \#1261

Processing match \#1262

Processing match \#1263

Processing match \#1264

Processing match \#1265

Processing match \#1266

Processing match \#1267

Processing match \#1268

Processing match \#1269

Processing match \#1270

Processing match \#1271

Processing match \#1272

Processing match \#1273

Processing match \#1274

Processing match \#1275

DataFrame is empty!
Processing match \#1276

Processing match \#1277

Processing match \#1278

Processing match \#1279

Processing match \#1280

Processing match \#1281

Processing match \#1282

Processing match \#1283

Processing match \#1284

Processing match \#1285

Processing match \#1286

DataFrame is empty!
Processing match \#1287

Processing match \#1288

DataFrame is empty!
Processing match \#1289

DataFrame is empty!
Processing match \#1290

Processing match \#1291

Processing match \#1292

Processing match \#1293

Processing match \#1294

Processing match \#1295

Processing match \#1296

Processing match \#1297

Processing match \#1298

Processing match \#1299

Processing match \#1300

Processing match \#1301

DataFrame is empty!
Processing match \#1302

Processing match \#1303

DataFrame is empty!
Processing match \#1304

Processing match \#1305

Processing match \#1306

Processing match \#1307

Processing match \#1308

DataFrame is empty!
Processing match \#1309

Processing match \#1310

Processing match \#1311

DataFrame is empty!
Processing match \#1312

DataFrame is empty!
Processing match \#1313

DataFrame is empty!
Processing match \#1314

DataFrame is empty!
Processing match \#1315

Processing match \#1316

Processing match \#1317

Processing match \#1318

Processing match \#1319

Processing match \#1320

Processing match \#1321

Processing match \#1322

Processing match \#1323

Processing match \#1324

Processing match \#1325

Processing match \#1326

Processing match \#1327

Processing match \#1328

Processing match \#1329

Processing match \#1330

Processing match \#1331

Processing match \#1332

Processing match \#1333

Processing match \#1334

DataFrame is empty!
Processing match \#1335

Processing match \#1336

Processing match \#1337

Processing match \#1338

Processing match \#1339

Processing match \#1340

Processing match \#1341

Processing match \#1342

Processing match \#1343

Processing match \#1344

Processing match \#1345

Processing match \#1346

Processing match \#1347

Processing match \#1348

Processing match \#1349

Processing match \#1350

Processing match \#1351

Processing match \#1352

Processing match \#1353

Processing match \#1354

Processing match \#1355

Processing match \#1356

Processing match \#1357

Processing match \#1358

DataFrame is empty!
Processing match \#1359

Processing match \#1360

Processing match \#1361

Processing match \#1362

Processing match \#1363

Processing match \#1364

Processing match \#1365

Processing match \#1366

Processing match \#1367

Processing match \#1368

DataFrame is empty!
Processing match \#1369

Processing match \#1370

Processing match \#1371

Processing match \#1372

DataFrame is empty!
Processing match \#1373

DataFrame is empty!
Processing match \#1374

Processing match \#1375

DataFrame is empty!
Processing match \#1376

Processing match \#1377

Processing match \#1378

Processing match \#1379

Processing match \#1380

Processing match \#1381

Processing match \#1382

Processing match \#1383

Processing match \#1384

Processing match \#1385

Processing match \#1386

Processing match \#1387

Processing match \#1388

Processing match \#1389

DataFrame is empty!
Processing match \#1390

DataFrame is empty!
Processing match \#1391

Processing match \#1392

Processing match \#1393

Processing match \#1394

Processing match \#1395

DataFrame is empty!
Processing match \#1396

Processing match \#1397

Processing match \#1398

Processing match \#1399

Processing match \#1400

Processing match \#1401

Processing match \#1402

Processing match \#1403

DataFrame is empty!
Processing match \#1404

Processing match \#1405

DataFrame is empty!
Processing match \#1406

Processing match \#1407

Processing match \#1408

Processing match \#1409

Processing match \#1410

Processing match \#1411

Processing match \#1412

Processing match \#1413

Processing match \#1414

Processing match \#1415

Processing match \#1416

Processing match \#1417

Processing match \#1418

Processing match \#1419

Processing match \#1420

DataFrame is empty!
Processing match \#1421

Processing match \#1422

Processing match \#1423

Processing match \#1424

Processing match \#1425

Processing match \#1426

Processing match \#1427

Processing match \#1428

Processing match \#1429

Processing match \#1430

Processing match \#1431

Processing match \#1432

Processing match \#1433

Processing match \#1434

Processing match \#1435

Processing match \#1436

Processing match \#1437

Processing match \#1438

Processing match \#1439

Processing match \#1440

Processing match \#1441

Processing match \#1442

Processing match \#1443

Processing match \#1444

Processing match \#1445

Processing match \#1446

Processing match \#1447

Processing match \#1448

Processing match \#1449

Processing match \#1450

Processing match \#1451

DataFrame is empty!
Processing match \#1452

Processing match \#1453

Processing match \#1454

DataFrame is empty!
Processing match \#1455

Processing match \#1456

Processing match \#1457

Processing match \#1458

Processing match \#1459

DataFrame is empty!
Processing match \#1460

DataFrame is empty!
Processing match \#1461

Processing match \#1462

Processing match \#1463

Processing match \#1464

Processing match \#1465

Processing match \#1466

Processing match \#1467

Processing match \#1468

DataFrame is empty!
Processing match \#1469

Processing match \#1470

Processing match \#1471

Processing match \#1472

Processing match \#1473

DataFrame is empty!
Processing match \#1474

Processing match \#1475

Processing match \#1476

Processing match \#1477

DataFrame is empty!
Processing match \#1478

Processing match \#1479

Processing match \#1480

Processing match \#1481

Processing match \#1482

Processing match \#1483

Processing match \#1484

DataFrame is empty!
Processing match \#1485

DataFrame is empty!
Processing match \#1486

Processing match \#1487

Processing match \#1488

DataFrame is empty!
Processing match \#1489

Processing match \#1490

Processing match \#1491

Processing match \#1492

Processing match \#1493

Processing match \#1494

DataFrame is empty!
Processing match \#1495

Processing match \#1496

Processing match \#1497

Processing match \#1498

Processing match \#1499

Processing match \#1500

Processing match \#1501

Processing match \#1502

Processing match \#1503

Processing match \#1504

Processing match \#1505

Processing match \#1506

Processing match \#1507

Processing match \#1508

Processing match \#1509

Processing match \#1510

DataFrame is empty!
Processing match \#1511

Processing match \#1512

Processing match \#1513

Processing match \#1514

Processing match \#1515

Processing match \#1516

Processing match \#1517

Processing match \#1518

Processing match \#1519

Processing match \#1520

Processing match \#1521

Processing match \#1522

Processing match \#1523

Processing match \#1524

Processing match \#1525

Processing match \#1526

Processing match \#1527

Processing match \#1528

Processing match \#1529

Processing match \#1530

Processing match \#1531

Processing match \#1532

Processing match \#1533

Processing match \#1534

Processing match \#1535

Processing match \#1536

Processing match \#1537

Processing match \#1538

Processing match \#1539

Processing match \#1540

Processing match \#1541

Processing match \#1542

Processing match \#1543

Processing match \#1544

Processing match \#1545

Processing match \#1546

DataFrame is empty!
Processing match \#1547

Processing match \#1548

Processing match \#1549

Processing match \#1550

Processing match \#1551

Processing match \#1552

Processing match \#1553

Processing match \#1554

Processing match \#1555

Processing match \#1556

Processing match \#1557

Processing match \#1558

Processing match \#1559

Processing match \#1560

Processing match \#1561

Processing match \#1562

Processing match \#1563

Processing match \#1564

Processing match \#1565

DataFrame is empty!
Processing match \#1566

Processing match \#1567

Processing match \#1568

Processing match \#1569

Processing match \#1570

DataFrame is empty!
Processing match \#1571

Processing match \#1572

Processing match \#1573

DataFrame is empty!
Processing match \#1574

Processing match \#1575

Processing match \#1576

Processing match \#1577

Processing match \#1578

Processing match \#1579

Processing match \#1580

Processing match \#1581

Processing match \#1582

DataFrame is empty!
Processing match \#1583

Processing match \#1584

Processing match \#1585

Processing match \#1586

Processing match \#1587

Processing match \#1588

Processing match \#1589

Processing match \#1590

Processing match \#1591

Processing match \#1592

Processing match \#1593

Processing match \#1594

Processing match \#1595

Processing match \#1596

DataFrame is empty!
Processing match \#1597

Processing match \#1598

Processing match \#1599

Processing match \#1600

Processing match \#1601

Processing match \#1602

DataFrame is empty!
Processing match \#1603

Processing match \#1604

Processing match \#1605

Processing match \#1606

Processing match \#1607

Processing match \#1608

Processing match \#1609

DataFrame is empty!
Processing match \#1610

Processing match \#1611

Processing match \#1612

Processing match \#1613

Processing match \#1614

Processing match \#1615

Processing match \#1616

Processing match \#1617

Processing match \#1618

Processing match \#1619

Processing match \#1620

Processing match \#1621

Processing match \#1622

Processing match \#1623

Processing match \#1624

Processing match \#1625

Processing match \#1626

Processing match \#1627

Processing match \#1628

Processing match \#1629

Processing match \#1630

Processing match \#1631

Processing match \#1632

Processing match \#1633

Processing match \#1634

Processing match \#1635

DataFrame is empty!
Processing match \#1636

DataFrame is empty!
Processing match \#1637

DataFrame is empty!
Processing match \#1638

Processing match \#1639

DataFrame is empty!
Processing match \#1640

Processing match \#1641

Processing match \#1642

DataFrame is empty!
Processing match \#1643

Processing match \#1644

Processing match \#1645

Processing match \#1646

Processing match \#1647

Processing match \#1648

Processing match \#1649

Processing match \#1650

Processing match \#1651

Processing match \#1652

Processing match \#1653

Processing match \#1654

DataFrame is empty!
Processing match \#1655

Processing match \#1656

Processing match \#1657

Processing match \#1658

Processing match \#1659

DataFrame is empty!
Processing match \#1660

DataFrame is empty!
Processing match \#1661

Processing match \#1662

DataFrame is empty!
Processing match \#1663

DataFrame is empty!
Processing match \#1664

Processing match \#1665

Processing match \#1666

Processing match \#1667

Processing match \#1668

Processing match \#1669

Processing match \#1670

Processing match \#1671

Processing match \#1672

Processing match \#1673

Processing match \#1674

Processing match \#1675

Processing match \#1676

Processing match \#1677

DataFrame is empty!
Processing match \#1678

Processing match \#1679

Processing match \#1680

Processing match \#1681

Processing match \#1682

Processing match \#1683

Processing match \#1684

Processing match \#1685

Processing match \#1686

Processing match \#1687

Processing match \#1688

Processing match \#1689

Processing match \#1690

DataFrame is empty!
Processing match \#1691

Processing match \#1692

Processing match \#1693

Processing match \#1694

Processing match \#1695

Processing match \#1696

Processing match \#1697

Processing match \#1698

Processing match \#1699

DataFrame is empty!
Processing match \#1700

Processing match \#1701

Processing match \#1702

Processing match \#1703

Processing match \#1704

Processing match \#1705

Processing match \#1706

Processing match \#1707

DataFrame is empty!
Processing match \#1708

Processing match \#1709

Processing match \#1710

Processing match \#1711

Processing match \#1712

Processing match \#1713

Processing match \#1714

Processing match \#1715

Processing match \#1716

Processing match \#1717

DataFrame is empty!
Processing match \#1718

Processing match \#1719

Processing match \#1720

Processing match \#1721

Processing match \#1722

Processing match \#1723

Processing match \#1724

Processing match \#1725

Processing match \#1726

Processing match \#1727

Processing match \#1728

Processing match \#1729

Processing match \#1730

Processing match \#1731

DataFrame is empty!
Processing match \#1732

Processing match \#1733

Processing match \#1734

Processing match \#1735

Processing match \#1736

Processing match \#1737

Processing match \#1738

Processing match \#1739

Processing match \#1740

Processing match \#1741

Processing match \#1742

Processing match \#1743

Processing match \#1744

Processing match \#1745

Processing match \#1746

DataFrame is empty!
Processing match \#1747

Processing match \#1748

Processing match \#1749

DataFrame is empty!
Processing match \#1750

DataFrame is empty!
Processing match \#1751

Processing match \#1752

DataFrame is empty!
Processing match \#1753

DataFrame is empty!
Processing match \#1754

DataFrame is empty!
Processing match \#1755

Processing match \#1756

Processing match \#1757

Processing match \#1758

Processing match \#1759

Processing match \#1760

Processing match \#1761

Processing match \#1762

DataFrame is empty!
Processing match \#1763

Processing match \#1764

Processing match \#1765

Processing match \#1766

Processing match \#1767

Processing match \#1768

Processing match \#1769

Processing match \#1770

Processing match \#1771

Processing match \#1772

Processing match \#1773

Processing match \#1774

Processing match \#1775

DataFrame is empty!
Processing match \#1776

Processing match \#1777

Processing match \#1778

Processing match \#1779

DataFrame is empty!
Processing match \#1780

Processing match \#1781

DataFrame is empty!
Processing match \#1782

Processing match \#1783

Processing match \#1784

Processing match \#1785

Processing match \#1786

Processing match \#1787

Processing match \#1788

DataFrame is empty!
Processing match \#1789

Processing match \#1790

Processing match \#1791

Processing match \#1792

DataFrame is empty!
Processing match \#1793

Processing match \#1794

Processing match \#1795

Processing match \#1796

Processing match \#1797

Processing match \#1798

Processing match \#1799

DataFrame is empty!
Processing match \#1800

Processing match \#1801

Processing match \#1802

Processing match \#1803

DataFrame is empty!
Processing match \#1804

Processing match \#1805

DataFrame is empty!
Processing match \#1806

Processing match \#1807

Processing match \#1808

Processing match \#1809

Processing match \#1810

Processing match \#1811

Processing match \#1812

Processing match \#1813

Processing match \#1814

DataFrame is empty!
Processing match \#1815

Processing match \#1816

Processing match \#1817

Processing match \#1818

Processing match \#1819

Processing match \#1820

Processing match \#1821

DataFrame is empty!
Processing match \#1822

Processing match \#1823

Processing match \#1824

DataFrame is empty!
Processing match \#1825

DataFrame is empty!
Processing match \#1826

Processing match \#1827

Processing match \#1828

DataFrame is empty!
Processing match \#1829

Processing match \#1830

Processing match \#1831

Processing match \#1832

Processing match \#1833

Processing match \#1834

DataFrame is empty!
Processing match \#1835

DataFrame is empty!
Processing match \#1836

Processing match \#1837

Processing match \#1838

Processing match \#1839

Processing match \#1840

Processing match \#1841

Processing match \#1842

Processing match \#1843

Processing match \#1844

Processing match \#1845

Processing match \#1846

Processing match \#1847

Processing match \#1848

Processing match \#1849

Processing match \#1850

Processing match \#1851

DataFrame is empty!
Processing match \#1852

Processing match \#1853

Processing match \#1854

Processing match \#1855

Processing match \#1856

DataFrame is empty!
Processing match \#1857

Processing match \#1858

Processing match \#1859

Processing match \#1860

Processing match \#1861

Processing match \#1862

DataFrame is empty!
Processing match \#1863

Processing match \#1864

DataFrame is empty!
Processing match \#1865

Processing match \#1866

Processing match \#1867

DataFrame is empty!
Processing match \#1868

Processing match \#1869

Processing match \#1870

Processing match \#1871

DataFrame is empty!
Processing match \#1872

Processing match \#1873

Processing match \#1874

DataFrame is empty!
Processing match \#1875

Processing match \#1876

Processing match \#1877

Processing match \#1878

DataFrame is empty!
Processing match \#1879

Processing match \#1880

Processing match \#1881

Processing match \#1882

Processing match \#1883

Processing match \#1884

Processing match \#1885

Processing match \#1886

Processing match \#1887

Processing match \#1888

DataFrame is empty!
Processing match \#1889

Processing match \#1890

Processing match \#1891

DataFrame is empty!
Processing match \#1892

Processing match \#1893

Processing match \#1894

Processing match \#1895

Processing match \#1896

Processing match \#1897

Processing match \#1898

Processing match \#1899

Processing match \#1900

Processing match \#1901

Processing match \#1902

Processing match \#1903

Processing match \#1904

Processing match \#1905

Processing match \#1906

Processing match \#1907

Processing match \#1908

DataFrame is empty!
Processing match \#1909

Processing match \#1910

DataFrame is empty!
Processing match \#1911

DataFrame is empty!
Processing match \#1912

DataFrame is empty!
Processing match \#1913

Processing match \#1914

Processing match \#1915

Processing match \#1916

Processing match \#1917

Processing match \#1918

DataFrame is empty!
Processing match \#1919

Processing match \#1920

DataFrame is empty!
Processing match \#1921

Processing match \#1922

Processing match \#1923

Processing match \#1924

DataFrame is empty!
Processing match \#1925

Processing match \#1926

Processing match \#1927

Processing match \#1928

Processing match \#1929

DataFrame is empty!
Processing match \#1930

DataFrame is empty!
Processing match \#1931

DataFrame is empty!
Processing match \#1932

Processing match \#1933

DataFrame is empty!
Processing match \#1934

Processing match \#1935

Processing match \#1936

DataFrame is empty!
Processing match \#1937

Processing match \#1938

DataFrame is empty!
Processing match \#1939

Processing match \#1940

Processing match \#1941

Processing match \#1942

Processing match \#1943

DataFrame is empty!
Processing match \#1944

Processing match \#1945

Processing match \#1946

DataFrame is empty!
Processing match \#1947

Processing match \#1948

Processing match \#1949

DataFrame is empty!
Processing match \#1950

DataFrame is empty!
Processing match \#1951

Processing match \#1952

Processing match \#1953

DataFrame is empty!
Processing match \#1954

Processing match \#1955

Processing match \#1956

DataFrame is empty!
Processing match \#1957

Processing match \#1958

Processing match \#1959

DataFrame is empty!
Processing match \#1960

Processing match \#1961

Processing match \#1962

Processing match \#1963

DataFrame is empty!
Processing match \#1964

Processing match \#1965

Processing match \#1966

Processing match \#1967

DataFrame is empty!
Processing match \#1968

Processing match \#1969

Processing match \#1970

Processing match \#1971

Processing match \#1972

Processing match \#1973

Processing match \#1974

Processing match \#1975

Processing match \#1976

Processing match \#1977

Processing match \#1978

DataFrame is empty!
Processing match \#1979

Processing match \#1980

DataFrame is empty!
Processing match \#1981

Processing match \#1982

Processing match \#1983

Processing match \#1984

Processing match \#1985

Processing match \#1986

DataFrame is empty!
Processing match \#1987

Processing match \#1988

Processing match \#1989

Processing match \#1990

Processing match \#1991

Processing match \#1992

Processing match \#1993

Processing match \#1994

Processing match \#1995

Processing match \#1996

Processing match \#1997

Processing match \#1998

Processing match \#1999

Processing match \#2000

Processing match \#2001

Processing match \#2002

Processing match \#2003

DataFrame is empty!
Processing match \#2004

Processing match \#2005

Processing match \#2006

Processing match \#2007

DataFrame is empty!
Processing match \#2008

Processing match \#2009

Processing match \#2010

Processing match \#2011

Processing match \#2012

Processing match \#2013

Processing match \#2014

Processing match \#2015

Processing match \#2016

Processing match \#2017

Processing match \#2018

Processing match \#2019

Processing match \#2020

Processing match \#2021

Processing match \#2022

Processing match \#2023

DataFrame is empty!
Processing match \#2024

DataFrame is empty!
Processing match \#2025

Processing match \#2026

Processing match \#2027

Processing match \#2028

DataFrame is empty!
Processing match \#2029

Processing match \#2030

Processing match \#2031

Processing match \#2032

Processing match \#2033

Processing match \#2034

Processing match \#2035

Processing match \#2036

Processing match \#2037

Processing match \#2038

Processing match \#2039

Processing match \#2040

Processing match \#2041

Processing match \#2042

Processing match \#2043

Processing match \#2044

Processing match \#2045

Processing match \#2046

Processing match \#2047

Processing match \#2048

Processing match \#2049

Processing match \#2050

Processing match \#2051

Processing match \#2052

Processing match \#2053

Processing match \#2054

Processing match \#2055

Processing match \#2056

Processing match \#2057

Processing match \#2058

Processing match \#2059

DataFrame is empty!
Processing match \#2060

Processing match \#2061

Processing match \#2062

Processing match \#2063

Processing match \#2064

Processing match \#2065

Processing match \#2066

Processing match \#2067

Processing match \#2068

Processing match \#2069

Processing match \#2070

Processing match \#2071

Processing match \#2072

Processing match \#2073

Processing match \#2074

Processing match \#2075

Processing match \#2076

Processing match \#2077

Processing match \#2078

Processing match \#2079

Processing match \#2080

Processing match \#2081

Processing match \#2082

Processing match \#2083

Processing match \#2084

Processing match \#2085

Processing match \#2086

Processing match \#2087

DataFrame is empty!
Processing match \#2088

Processing match \#2089

Processing match \#2090

Processing match \#2091

Processing match \#2092

Processing match \#2093

Processing match \#2094

Processing match \#2095

Processing match \#2096

Processing match \#2097

Processing match \#2098

Processing match \#2099

Processing match \#2100

Processing match \#2101

Processing match \#2102

Processing match \#2103

Processing match \#2104

Processing match \#2105

Processing match \#2106

Processing match \#2107

Processing match \#2108

Processing match \#2109

Processing match \#2110

DataFrame is empty!
Processing match \#2111

Processing match \#2112

Processing match \#2113

Processing match \#2114

DataFrame is empty!
Processing match \#2115

Processing match \#2116

DataFrame is empty!
Processing match \#2117

Processing match \#2118

Processing match \#2119

Processing match \#2120

Processing match \#2121

DataFrame is empty!
Processing match \#2122

Processing match \#2123

DataFrame is empty!
Processing match \#2124

Processing match \#2125

Processing match \#2126

DataFrame is empty!
Processing match \#2127

Processing match \#2128

Processing match \#2129

Processing match \#2130

Processing match \#2131

Processing match \#2132

DataFrame is empty!
Processing match \#2133

Processing match \#2134

Processing match \#2135

Processing match \#2136

Processing match \#2137

Processing match \#2138

Processing match \#2139

DataFrame is empty!
Processing match \#2140

Processing match \#2141

DataFrame is empty!
Processing match \#2142

Processing match \#2143

DataFrame is empty!
Processing match \#2144

Processing match \#2145

Processing match \#2146

Processing match \#2147

Processing match \#2148

Processing match \#2149

Processing match \#2150

DataFrame is empty!
Processing match \#2151

Processing match \#2152

Processing match \#2153

Processing match \#2154

Processing match \#2155

Processing match \#2156

Processing match \#2157

DataFrame is empty!
Processing match \#2158

Processing match \#2159

DataFrame is empty!
Processing match \#2160

Processing match \#2161

Processing match \#2162

Processing match \#2163

Processing match \#2164

Processing match \#2165

Processing match \#2166

DataFrame is empty!
Processing match \#2167

Processing match \#2168

Processing match \#2169

Processing match \#2170

Processing match \#2171

DataFrame is empty!
Processing match \#2172

Processing match \#2173

Processing match \#2174

Processing match \#2175

DataFrame is empty!
Processing match \#2176

Processing match \#2177

Processing match \#2178

DataFrame is empty!
Processing match \#2179

Processing match \#2180

Processing match \#2181

Processing match \#2182

Processing match \#2183

DataFrame is empty!
Processing match \#2184

Processing match \#2185

Processing match \#2186

Processing match \#2187

Processing match \#2188

Processing match \#2189

Processing match \#2190

DataFrame is empty!
Processing match \#2191

Processing match \#2192

Processing match \#2193

DataFrame is empty!
Processing match \#2194

Processing match \#2195

Processing match \#2196

Processing match \#2197

Processing match \#2198

DataFrame is empty!
Processing match \#2199

Processing match \#2200

Processing match \#2201

Processing match \#2202

Processing match \#2203

Processing match \#2204

Processing match \#2205

Processing match \#2206

Processing match \#2207

Processing match \#2208

Processing match \#2209

DataFrame is empty!
Processing match \#2210

Processing match \#2211

Processing match \#2212

Processing match \#2213

Processing match \#2214

Processing match \#2215

Processing match \#2216

Processing match \#2217

Processing match \#2218

Processing match \#2219

Processing match \#2220

Processing match \#2221

DataFrame is empty!
Processing match \#2222

Processing match \#2223

Processing match \#2224

Processing match \#2225

Processing match \#2226

Processing match \#2227

Processing match \#2228

Processing match \#2229

Processing match \#2230

Processing match \#2231

DataFrame is empty!
Processing match \#2232

DataFrame is empty!
Processing match \#2233

Processing match \#2234

Processing match \#2235

Processing match \#2236

Processing match \#2237

Processing match \#2238

Processing match \#2239

Processing match \#2240

Processing match \#2241

Processing match \#2242

Processing match \#2243

Processing match \#2244

Processing match \#2245

Processing match \#2246

Processing match \#2247

Processing match \#2248

Processing match \#2249

Processing match \#2250

Processing match \#2251

Processing match \#2252

Processing match \#2253

Processing match \#2254

Processing match \#2255

Processing match \#2256

Processing match \#2257

Processing match \#2258

Processing match \#2259

Processing match \#2260

Processing match \#2261

Processing match \#2262

Processing match \#2263

Processing match \#2264

Processing match \#2265

Processing match \#2266

Processing match \#2267

Processing match \#2268

Processing match \#2269

Processing match \#2270

Processing match \#2271

Processing match \#2272

Processing match \#2273

Processing match \#2274

Processing match \#2275

Processing match \#2276

Processing match \#2277

Processing match \#2278

Processing match \#2279

DataFrame is empty!
Processing match \#2280

DataFrame is empty!
Processing match \#2281

Processing match \#2282

DataFrame is empty!
Processing match \#2283

DataFrame is empty!
Processing match \#2284

Processing match \#2285

DataFrame is empty!
Processing match \#2286

Processing match \#2287

Processing match \#2288

Processing match \#2289

DataFrame is empty!
Processing match \#2290

Processing match \#2291

DataFrame is empty!
Processing match \#2292

DataFrame is empty!
Processing match \#2293

DataFrame is empty!
Processing match \#2294

DataFrame is empty!
Processing match \#2295

DataFrame is empty!
Processing match \#2296

Processing match \#2297

Processing match \#2298

DataFrame is empty!
Processing match \#2299

DataFrame is empty!
Processing match \#2300

DataFrame is empty!
Processing match \#2301

Processing match \#2302

Processing match \#2303

Processing match \#2304

Processing match \#2305

Processing match \#2306

Processing match \#2307

Processing match \#2308

Processing match \#2309

DataFrame is empty!
Processing match \#2310

DataFrame is empty!
Processing match \#2311

DataFrame is empty!
Processing match \#2312

DataFrame is empty!
Processing match \#2313

Processing match \#2314

Processing match \#2315

Processing match \#2316

Processing match \#2317

DataFrame is empty!
Processing match \#2318

DataFrame is empty!
Processing match \#2319

Processing match \#2320

DataFrame is empty!
Processing match \#2321

Processing match \#2322

Processing match \#2323

Processing match \#2324

Processing match \#2325

DataFrame is empty!
Processing match \#2326

Processing match \#2327

Processing match \#2328

DataFrame is empty!
Processing match \#2329

DataFrame is empty!
Processing match \#2330

Processing match \#2331

Processing match \#2332

Processing match \#2333

DataFrame is empty!
Processing match \#2334

Processing match \#2335

Processing match \#2336

DataFrame is empty!
Processing match \#2337

DataFrame is empty!
Processing match \#2338

Processing match \#2339

Processing match \#2340

Processing match \#2341

Processing match \#2342

Processing match \#2343

DataFrame is empty!
Processing match \#2344

Processing match \#2345

Processing match \#2346

Processing match \#2347

Processing match \#2348

Processing match \#2349

Processing match \#2350

Processing match \#2351

DataFrame is empty!
Processing match \#2352

Processing match \#2353

Processing match \#2354

Processing match \#2355

Processing match \#2356

Processing match \#2357

Processing match \#2358

Processing match \#2359

Processing match \#2360

Processing match \#2361

Processing match \#2362

Processing match \#2363

Processing match \#2364

Processing match \#2365

DataFrame is empty!
Processing match \#2366

DataFrame is empty!
Processing match \#2367

Processing match \#2368

Processing match \#2369

Processing match \#2370

Processing match \#2371

DataFrame is empty!
Processing match \#2372

Processing match \#2373

Processing match \#2374

DataFrame is empty!
Processing match \#2375

Processing match \#2376

Processing match \#2377

Processing match \#2378

Processing match \#2379

Processing match \#2380

Processing match \#2381

DataFrame is empty!
Processing match \#2382

Processing match \#2383

DataFrame is empty!
Processing match \#2384

Processing match \#2385

Processing match \#2386

Processing match \#2387

Processing match \#2388

Processing match \#2389

Processing match \#2390

Processing match \#2391

Processing match \#2392

Processing match \#2393

Processing match \#2394

DataFrame is empty!
Processing match \#2395

Processing match \#2396

Processing match \#2397

Processing match \#2398

DataFrame is empty!
Processing match \#2399

Processing match \#2400

Processing match \#2401

DataFrame is empty!
Processing match \#2402

Processing match \#2403

Processing match \#2404

Processing match \#2405

DataFrame is empty!
Processing match \#2406

Processing match \#2407

Processing match \#2408

Processing match \#2409

Processing match \#2410

Processing match \#2411

Processing match \#2412

Processing match \#2413

Processing match \#2414

Processing match \#2415

Processing match \#2416

Processing match \#2417

Processing match \#2418

Processing match \#2419

Processing match \#2420

Processing match \#2421

Processing match \#2422

Processing match \#2423

DataFrame is empty!
Processing match \#2424

Processing match \#2425

Processing match \#2426

Processing match \#2427

Processing match \#2428

Processing match \#2429

Processing match \#2430

Processing match \#2431

Processing match \#2432

Processing match \#2433

Processing match \#2434

Processing match \#2435

Processing match \#2436

DataFrame is empty!
Processing match \#2437

DataFrame is empty!
Processing match \#2438

Processing match \#2439

Processing match \#2440

Processing match \#2441

Processing match \#2442

Processing match \#2443

Processing match \#2444

Processing match \#2445

Processing match \#2446

Processing match \#2447

Processing match \#2448

Processing match \#2449

Processing match \#2450

Processing match \#2451

Processing match \#2452

Processing match \#2453

Processing match \#2454

Processing match \#2455

Processing match \#2456

Processing match \#2457

Processing match \#2458

Processing match \#2459

Processing match \#2460

Processing match \#2461

Processing match \#2462

Processing match \#2463

Processing match \#2464

Processing match \#2465

Processing match \#2466

Processing match \#2467

DataFrame is empty!
Processing match \#2468

Processing match \#2469

Processing match \#2470

Processing match \#2471

Processing match \#2472

Processing match \#2473

Processing match \#2474

Processing match \#2475

Processing match \#2476

Processing match \#2477

Processing match \#2478

Processing match \#2479

DataFrame is empty!
Processing match \#2480

Processing match \#2481

Processing match \#2482

Processing match \#2483

Processing match \#2484

Processing match \#2485

Processing match \#2486

Processing match \#2487

Processing match \#2488

Processing match \#2489

DataFrame is empty!
Processing match \#2490

Processing match \#2491

Processing match \#2492

Processing match \#2493

Processing match \#2494

Processing match \#2495

DataFrame is empty!
Processing match \#2496

Processing match \#2497

Processing match \#2498

DataFrame is empty!
Processing match \#2499

Processing match \#2500

Processing match \#2501

Processing match \#2502

Processing match \#2503

Processing match \#2504

Processing match \#2505

Processing match \#2506

Processing match \#2507

Processing match \#2508

Processing match \#2509

Processing match \#2510

Processing match \#2511

DataFrame is empty!
Processing match \#2512

Processing match \#2513

DataFrame is empty!
Processing match \#2514

Processing match \#2515

DataFrame is empty!
Processing match \#2516

Processing match \#2517

Processing match \#2518

Processing match \#2519

Processing match \#2520

Processing match \#2521

Processing match \#2522

Processing match \#2523

Processing match \#2524

Processing match \#2525

Processing match \#2526

Processing match \#2527

Processing match \#2528

Processing match \#2529

Processing match \#2530

Processing match \#2531

Processing match \#2532

Processing match \#2533

DataFrame is empty!
Processing match \#2534

Processing match \#2535

Processing match \#2536

Processing match \#2537

Processing match \#2538

Processing match \#2539

DataFrame is empty!
Processing match \#2540

Processing match \#2541

DataFrame is empty!
Processing match \#2542

Processing match \#2543

Processing match \#2544

Processing match \#2545

DataFrame is empty!
Processing match \#2546

Processing match \#2547

Processing match \#2548

Processing match \#2549

Processing match \#2550

DataFrame is empty!
Processing match \#2551

Processing match \#2552

Processing match \#2553

Processing match \#2554

Processing match \#2555

Processing match \#2556

Processing match \#2557

Processing match \#2558

Processing match \#2559

DataFrame is empty!
Processing match \#2560

Processing match \#2561

Processing match \#2562

DataFrame is empty!
Processing match \#2563

Processing match \#2564

Processing match \#2565

Processing match \#2566

Processing match \#2567

Processing match \#2568

Processing match \#2569

DataFrame is empty!
Processing match \#2570

Processing match \#2571

Processing match \#2572

Processing match \#2573

Processing match \#2574

Processing match \#2575

Processing match \#2576

Processing match \#2577

Processing match \#2578

Processing match \#2579

Processing match \#2580

DataFrame is empty!
Processing match \#2581

Processing match \#2582

Processing match \#2583

Processing match \#2584

Processing match \#2585

Processing match \#2586

Processing match \#2587

DataFrame is empty!
Processing match \#2588

Processing match \#2589

Processing match \#2590

DataFrame is empty!
Processing match \#2591

Processing match \#2592

Processing match \#2593

Processing match \#2594

Processing match \#2595

Processing match \#2596

Processing match \#2597

Processing match \#2598

Processing match \#2599

Processing match \#2600

DataFrame is empty!
Processing match \#2601

DataFrame is empty!
Processing match \#2602

Processing match \#2603

Processing match \#2604

Processing match \#2605

Processing match \#2606

Processing match \#2607

Processing match \#2608

Processing match \#2609

Processing match \#2610

Processing match \#2611

Processing match \#2612

Processing match \#2613

Processing match \#2614

Processing match \#2615

DataFrame is empty!
Processing match \#2616

Processing match \#2617

Processing match \#2618

Processing match \#2619

Processing match \#2620

Processing match \#2621

Processing match \#2622

Processing match \#2623

Processing match \#2624

DataFrame is empty!
Processing match \#2625

Processing match \#2626

Processing match \#2627

Processing match \#2628

Processing match \#2629

Processing match \#2630

Processing match \#2631

Processing match \#2632

Processing match \#2633

Processing match \#2634

Processing match \#2635

Processing match \#2636

Processing match \#2637

Processing match \#2638

Processing match \#2639

Processing match \#2640

Processing match \#2641

Processing match \#2642

Processing match \#2643

Processing match \#2644

Processing match \#2645

Processing match \#2646

Processing match \#2647

Processing match \#2648

DataFrame is empty!
Processing match \#2649

Processing match \#2650

Processing match \#2651

Processing match \#2652

Processing match \#2653

Processing match \#2654

Processing match \#2655

Processing match \#2656

Processing match \#2657

Processing match \#2658

Processing match \#2659

Processing match \#2660

Processing match \#2661

Processing match \#2662

Processing match \#2663

Processing match \#2664

Processing match \#2665

Processing match \#2666

Processing match \#2667

Processing match \#2668

Processing match \#2669

Processing match \#2670

Processing match \#2671

Processing match \#2672

Processing match \#2673

Processing match \#2674

Processing match \#2675

Processing match \#2676

DataFrame is empty!
Processing match \#2677

Processing match \#2678

Processing match \#2679

Processing match \#2680

Processing match \#2681

Processing match \#2682

Processing match \#2683

Processing match \#2684

Processing match \#2685

Processing match \#2686

Processing match \#2687

Processing match \#2688

Processing match \#2689

Processing match \#2690

Processing match \#2691

Processing match \#2692

Processing match \#2693

Processing match \#2694

Processing match \#2695

Processing match \#2696

Processing match \#2697

Processing match \#2698

Processing match \#2699

Processing match \#2700

Processing match \#2701

Processing match \#2702

Processing match \#2703

Processing match \#2704

Processing match \#2705

Processing match \#2706

Processing match \#2707

Processing match \#2708

Processing match \#2709

Processing match \#2710

Processing match \#2711

Processing match \#2712

Processing match \#2713

Processing match \#2714

Processing match \#2715

Processing match \#2716

Processing match \#2717

DataFrame is empty!
Processing match \#2718

DataFrame is empty!
Processing match \#2719

Processing match \#2720

DataFrame is empty!
Processing match \#2721

Processing match \#2722

Processing match \#2723

DataFrame is empty!
Processing match \#2724

DataFrame is empty!
Processing match \#2725

DataFrame is empty!
Processing match \#2726

DataFrame is empty!
Processing match \#2727

Processing match \#2728

DataFrame is empty!
Processing match \#2729

Processing match \#2730

Processing match \#2731

Processing match \#2732

Processing match \#2733

Processing match \#2734

Processing match \#2735

Processing match \#2736

Processing match \#2737

Processing match \#2738

Processing match \#2739

Processing match \#2740

Processing match \#2741

Processing match \#2742

Processing match \#2743

Processing match \#2744

Processing match \#2745

Processing match \#2746

Processing match \#2747

Processing match \#2748

Processing match \#2749

Processing match \#2750


    \end{Verbatim}

    Se obtienen los componentes del dataset anterior, habiendo utilizado la
técnica de oponentes comunes. Se lo guarda en 'results'.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{n}{results} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}Ranking Won}
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}rank}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}rank}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{POINTS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}rank\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}rank\PYZus{}points}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{c+c1}{\PYZsh{}First Serve In}
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{c+c1}{\PYZsh{}Winning in First Serve}
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{c+c1}{\PYZsh{}Winning in Second Serve}
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{c+c1}{\PYZsh{}Winning on Serve Cumulative}
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{c+c1}{\PYZsh{}Winning in Return}
         
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{*}\PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{c+c1}{\PYZsh{}results[\PYZsq{}TMW\PYZsq{}] = predict\PYZus{}dataset[\PYZsq{}TMW2\PYZsq{}]}
         
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{predict\PYZus{}dataset}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         
         
         \PY{n}{results}\PY{o}{=}\PY{n}{results}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{winner}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{results}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{,}\PY{l+m+mi}{1000}\PY{p}{,}\PY{l+m+mi}{1001}\PY{p}{,}\PY{l+m+mi}{1002}\PY{p}{,}\PY{l+m+mi}{1003}\PY{p}{,}\PY{l+m+mi}{1004}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}35}]:}           winner\_name             loser\_name   RANK  POINTS        FS  \textbackslash{}
         0       Ryan Harrison         Leonardo Mayer   -5.0   101.0 -0.021063   
         1     Jared Donaldson        Jordan Thompson  -40.0   297.0 -0.043966   
         2       Denis Istomin          Damir Dzumhur   33.0  -582.0 -0.022432   
         3      Alex De Minaur          Steve Johnson  164.0  -810.0  0.057050   
         4        Michael Mmoh      Federico Delbonis  107.0  -456.0  0.000000   
         5       Mischa Zverev     John Patrick Smith -185.0  1067.0  0.043341   
         9         Hyeon Chung          Gilles Muller   33.0  -851.0  0.045215   
         1000     David Goffin  Roberto Bautista Agut   -6.0   935.0 -0.059033   
         1001  Grigor Dimitrov  Philipp Kohlschreiber  -35.0  3405.0  0.026781   
         1002    Dominic Thiem         Novak Djokovic   -6.0  1355.0 -0.041684   
         1003     Rafael Nadal        Karen Khachanov  -37.0  7515.0  0.102727   
         1004    Kei Nishikori            Marin Cilic   33.0 -3705.0  0.047942   
         
                   W1SP      W2SP       WSP       WRP       TPW  TMW      ACES  \textbackslash{}
         0     0.059972  0.009174  0.038134  0.034543 -0.009536  1.0  0.126068   
         1     0.028694  0.041805  0.026200  0.018033 -0.017710  1.0  0.054040   
         2     0.037666 -0.002490  0.021382 -0.085562  0.023487  1.0  0.204368   
         3    -0.065055  0.075158  0.001130  0.042656  0.021041  1.0 -0.142874   
         4     0.000000  0.000000  0.000000  0.000000  0.000000  1.0  0.000000   
         5     0.015128 -0.112422 -0.028791 -0.008408       NaN  1.0 -0.030925   
         9    -0.106868 -0.042829 -0.064014  0.060855  0.016423  1.0 -0.408255   
         1000  0.031142  0.002620  0.008911  0.011357 -0.007428 -1.0  0.096627   
         1001  0.004403  0.015778  0.014416  0.007704 -0.000051 -1.0  0.040871   
         1002 -0.004527  0.004996 -0.008256 -0.059375 -0.014034  0.6  0.073758   
         1003 -0.031783  0.136200  0.050971  0.081736  0.060103 -1.0 -0.133804   
         1004 -0.054677 -0.006263 -0.026209  0.018861 -0.012394  1.0 -0.272164   
         
                     DF        BP  COMPLETE  SERVEADV  winner  
         0    -0.020997  0.224692  0.036057  0.072677       1  
         1     0.034569  0.066751  0.015884  0.044233       1  
         2    -0.014067  0.079454 -0.043341 -0.064180       1  
         3    -0.004106 -0.086840  0.024784  0.043786       1  
         4     0.000000  0.000000  0.000000  0.000000       1  
         5     0.005678  0.149868 -0.019019 -0.037199       1  
         9    -0.029447 -0.056266  0.018865 -0.003159       1  
         1000  0.030560  0.043723  0.011265  0.020268       1  
         1001  0.061832  0.029645  0.008675  0.022120       1  
         1002  0.012081  0.032768 -0.041949 -0.067631       1  
         1003 -0.067942  0.113032  0.075943  0.132707       1  
         1004 -0.012732  0.059387  0.002578 -0.007348       1  
\end{Verbatim}
            
    Se guarda los datos en el csv 'validate2018'.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{c+c1}{\PYZsh{}Now order according to ranking to see how good they are}
         
         \PY{n}{features} \PY{o}{=} \PY{n}{results}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{POINTS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{features}\PY{o}{=}\PY{n}{features}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{player1}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{features}\PY{o}{=}\PY{n}{features}\PY{o}{.}\PY{n}{assign}\PY{p}{(}\PY{n}{player2}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{features}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
             \PY{k}{if}\PY{p}{(}\PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZlt{}}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{:}
                 \PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{results}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                 \PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{results}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{k}{else}\PY{p}{:}
                 \PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{results}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loser\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                 \PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{results}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                 \PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{*}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}
                 \PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{l+m+mi}{0}
         
         \PY{n}{features}\PY{o}{=}\PY{n}{features}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}        
         \PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{,}\PY{l+m+mi}{1000}\PY{p}{,}\PY{l+m+mi}{1001}\PY{p}{,}\PY{l+m+mi}{1002}\PY{p}{,}\PY{l+m+mi}{1003}\PY{p}{,}\PY{l+m+mi}{1004}\PY{p}{]}\PY{p}{]}
         
         \PY{n}{features}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{validate2018.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{header}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{false}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{index}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{false}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{features}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{validate2018.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{features}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{,}\PY{l+m+mi}{1000}\PY{p}{,}\PY{l+m+mi}{1001}\PY{p}{,}\PY{l+m+mi}{1002}\PY{p}{,}\PY{l+m+mi}{1003}\PY{p}{,}\PY{l+m+mi}{1004}\PY{p}{]}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}36}]:}       Unnamed: 0   RANK  POINTS        FS      W1SP      W2SP       WSP  \textbackslash{}
         0              0   -5.0   101.0 -0.021063  0.059972  0.009174  0.038134   
         1              1  -40.0   297.0 -0.043966  0.028694  0.041805  0.026200   
         2              2  -33.0   582.0  0.022432 -0.037666  0.002490 -0.021382   
         3              3 -164.0   810.0 -0.057050  0.065055 -0.075158 -0.001130   
         4              4 -107.0   456.0 -0.000000 -0.000000 -0.000000 -0.000000   
         5              5 -185.0  1067.0  0.043341  0.015128 -0.112422 -0.028791   
         6              6  -12.0   444.0  0.056675 -0.057686  0.014365 -0.017729   
         7              7  -54.0   270.0  0.094249 -0.023340  0.026720  0.009515   
         8              8   -3.0     8.0  0.063913 -0.026689  0.045507  0.018784   
         9              9  -33.0   851.0 -0.045215  0.106868  0.042829  0.064014   
         1000        1000   -6.0   935.0 -0.059033  0.031142  0.002620  0.008911   
         1001        1001  -35.0  3405.0  0.026781  0.004403  0.015778  0.014416   
         1002        1002   -6.0  1355.0 -0.041684 -0.004527  0.004996 -0.008256   
         1003        1003  -37.0  7515.0  0.102727 -0.031783  0.136200  0.050971   
         1004        1004  -33.0  3705.0 -0.047942  0.054677  0.006263  0.026209   
         
                    WRP       TPW  TMW      ACES        DF        BP  COMPLETE  \textbackslash{}
         0     0.034543 -0.009536  1.0  0.126068 -0.020997  0.224692  0.036057   
         1     0.018033 -0.017710  1.0  0.054040  0.034569  0.066751  0.015884   
         2     0.085562 -0.023487 -1.0 -0.204368  0.014067 -0.079454  0.043341   
         3    -0.042656 -0.021041 -1.0  0.142874  0.004106  0.086840 -0.024784   
         4    -0.000000 -0.000000 -1.0 -0.000000 -0.000000 -0.000000 -0.000000   
         5    -0.008408  0.000000  1.0 -0.030925  0.005678  0.149868 -0.019019   
         6     0.078175  0.024161 -1.0 -0.208404 -0.039854 -0.091630  0.042539   
         7    -0.043449 -0.060407  1.0 -0.033701  0.008884  0.181944 -0.020296   
         8     0.002763  0.026207  1.0 -0.140062 -0.058524 -0.101227  0.004817   
         9    -0.060855 -0.016423 -1.0  0.408255  0.029447  0.056266 -0.018865   
         1000  0.011357 -0.007428 -1.0  0.096627  0.030560  0.043723  0.011265   
         1001  0.007704 -0.000051 -1.0  0.040871  0.061832  0.029645  0.008675   
         1002 -0.059375 -0.014034  0.6  0.073758  0.012081  0.032768 -0.041949   
         1003  0.081736  0.060103 -1.0 -0.133804 -0.067942  0.113032  0.075943   
         1004 -0.018861  0.012394 -1.0  0.272164  0.012732 -0.059387 -0.002578   
         
               SERVEADV  winner                      player1                player2  
         0     0.072677       1                Ryan Harrison         Leonardo Mayer  
         1     0.044233       1              Jared Donaldson        Jordan Thompson  
         2     0.064180       0                Damir Dzumhur          Denis Istomin  
         3    -0.043786       0                Steve Johnson         Alex De Minaur  
         4    -0.000000       0            Federico Delbonis           Michael Mmoh  
         5    -0.037199       1                Mischa Zverev     John Patrick Smith  
         6     0.060445       0  Diego Sebastian Schwartzman    Alexandr Dolgopolov  
         7    -0.033935       1             Horacio Zeballos       Ernesto Escobedo  
         8     0.021548       1                Matthew Ebden         Francis Tiafoe  
         9     0.003159       0                Gilles Muller            Hyeon Chung  
         1000  0.020268       1                 David Goffin  Roberto Bautista Agut  
         1001  0.022120       1              Grigor Dimitrov  Philipp Kohlschreiber  
         1002 -0.067631       1                Dominic Thiem         Novak Djokovic  
         1003  0.132707       1                 Rafael Nadal        Karen Khachanov  
         1004  0.007348       0                  Marin Cilic          Kei Nishikori  
\end{Verbatim}
            
    \subsection{Entrenamiento de la red y Resultados
Obtenidos}\label{entrenamiento-de-la-red-y-resultados-obtenidos}

En esta sección se describe el entrenamiento de la red. Primero, se
levantan todos los datos obtenidos en la sección anterior. Para obtener
los resultados, se empiezan seleccionando los parámetros de interés. En
general, se descarta el uso del parámetro 'RANK' y 'POINTS'. El mismo
sólo se utiliza para 'acomodar' el órden de los jugadores. Se puede ver
como aproximadamente, en el 65\% de los partidos gana el jugador con
mayor ranking. Este sería el 'accuracy' base del proyecto, si el
'accuracy' obtenido da menor, se debe descartar dicho modelo. El
descarte de dichos parámetros se realiza para evitar distorsionar las
predicciones.

Además, se arma la red MLP correspondiente. Se tienen que tener en
cuenta los siguientes parámetros: - La activación de la capa de salida
será 'sigmoid'. Ya que necesito saber la probabilidad de que el jugador
mejor rankeado gane, la función de activación tiene los valores entre 0
y 1, y si es mayor a 0.5, gana el jugador con mayor ranking, si es
menor, el de menor ranking. - Se utilizan dos layers ocultas. El número
de neuronas se determinó con varias iteraciones. Se utilizaron 127
parámetros para entrenar la red. - Se selecciona un batch\_size de
aproximadamente 500, un valor óptimo considerando que hay 5000 vectores
de entrenamiento, entonces se realizarán 10 iteraciones por epoch.

Se puede ver como se entrena con 'train3.csv' (obtenido utilizando el
historial de 2016-2017), y se valida con 'validate2018.csv'. El set de
validación se particiona de manera acorde, aproximadamente el 75\% de
dichos datos no se utilizan para validar, y se utilizan en test.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{n}{featurestrain}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{train3.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{count}\PY{o}{=}\PY{l+m+mi}{0}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{featurestrain}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
             \PY{n}{count} \PY{o}{=} \PY{n}{count} \PY{o}{+} \PY{n}{featurestrain}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{count}\PY{o}{=}\PY{n}{count}\PY{o}{/}\PY{n+nb}{len}\PY{p}{(}\PY{n}{featurestrain}\PY{o}{.}\PY{n}{index}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The accuracy of the train dataset with only using RANK to predict is }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{count}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{featuresvalidate}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{validate2018.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{featurestest}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{predictfeatures2019.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{count}\PY{o}{=}\PY{l+m+mi}{0}
         \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{featurestest}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{)}\PY{p}{:}
             \PY{n}{count} \PY{o}{=} \PY{n}{count} \PY{o}{+} \PY{n}{featurestest}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{count}\PY{o}{=}\PY{n}{count}\PY{o}{/}\PY{n+nb}{len}\PY{p}{(}\PY{n}{featurestest}\PY{o}{.}\PY{n}{index}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The accuracy of the test dataset with only using RANK to predict is }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{count}\PY{p}{)}\PY{p}{)}
         \PY{n}{featurestest}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{*}\PY{n}{featurestest}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{n}{featurestrain2} \PY{o}{=} \PY{n}{featurestrain}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{featuresvalidate2} \PY{o}{=} \PY{n}{featuresvalidate}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{featurestest2} \PY{o}{=} \PY{n}{featurestest}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RANK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{player2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{indexes}\PY{o}{=}\PY{p}{[}\PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}
         
         \PY{n}{indexes}\PY{o}{=}\PY{p}{[}
                 \PY{c+c1}{\PYZsh{}featurestest2.columns.get\PYZus{}loc(\PYZsq{}RANK\PYZsq{}),}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W1SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{W2SP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WSP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WRP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TPW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TMW}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ACES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{COMPLETE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                 \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SERVEADV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                 \PY{p}{]}
         
         \PY{n}{X\PYZus{}train} \PY{o}{=} \PY{n}{featurestrain2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{indexes}\PY{p}{]}\PY{o}{.}\PY{n}{values}
         \PY{n}{y\PYZus{}train} \PY{o}{=} \PY{n}{featurestrain2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{featurestrain2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{values}
         
         \PY{n}{X\PYZus{}validate} \PY{o}{=} \PY{n}{featuresvalidate2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{indexes}\PY{p}{]}\PY{o}{.}\PY{n}{values}
         \PY{n}{y\PYZus{}validate} \PY{o}{=} \PY{n}{featuresvalidate2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{values}
         
         \PY{n}{X\PYZus{}test} \PY{o}{=} \PY{n}{featurestest2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{indexes}\PY{p}{]}\PY{o}{.}\PY{n}{values}
         \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{featurestest2}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{featurestest2}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{get\PYZus{}loc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{winner}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{values}
         
         
         \PY{n}{splitX}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{n}{X\PYZus{}validate}\PY{p}{,}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{n+nb}{int}\PY{p}{(}\PY{n}{featuresvalidate2}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{l+m+mf}{0.25}\PY{p}{)}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
         \PY{n}{splitY}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{n}{y\PYZus{}validate}\PY{p}{,}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{n+nb}{int}\PY{p}{(}\PY{n}{featuresvalidate2}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{l+m+mf}{0.25}\PY{p}{)}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
         \PY{n}{X\PYZus{}validate}\PY{o}{=}\PY{n}{splitX}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
         \PY{n}{y\PYZus{}validate}\PY{o}{=}\PY{n}{splitY}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
         \PY{n}{X\PYZus{}test}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{,}\PY{n}{splitX}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
         \PY{n}{y\PYZus{}test}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,}\PY{n}{splitY}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}X\PYZus{}validate=splitX[2]}
         \PY{c+c1}{\PYZsh{}y\PYZus{}validate=splitY[2]}
         
         \PY{n}{classifier} \PY{o}{=} \PY{n}{Sequential}\PY{p}{(}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Adding the input layer and the first hidden layer}
         \PY{n}{classifier}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{output\PYZus{}dim} \PY{o}{=} \PY{l+m+mi}{6}\PY{p}{,} \PY{n}{init} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{uniform}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{activation} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{relu}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{input\PYZus{}dim} \PY{o}{=} \PY{n}{X\PYZus{}train}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}classifier.add(BatchNormalization())}
         
         \PY{c+c1}{\PYZsh{} Adding the second hidden layer}
         \PY{n}{classifier}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{output\PYZus{}dim} \PY{o}{=} \PY{l+m+mi}{6}\PY{p}{,} \PY{n}{init} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{uniform}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{activation} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{relu}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}classifier.add(BatchNormalization())}
         
         \PY{c+c1}{\PYZsh{} Adding the output layer}
         \PY{n}{classifier}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{output\PYZus{}dim} \PY{o}{=} \PY{l+m+mi}{1}\PY{p}{,} \PY{n}{init} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{uniform}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{activation} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sigmoid}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Compiling Neural Network}
         \PY{n}{classifier}\PY{o}{.}\PY{n}{compile}\PY{p}{(}\PY{n}{optimizer} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{adam}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{loss} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{binary\PYZus{}crossentropy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{metrics} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{accuracy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{classifier}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Fitting our model }
         \PY{n}{classifier}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{batch\PYZus{}size} \PY{o}{=} \PY{l+m+mi}{200}\PY{p}{,} \PY{n}{nb\PYZus{}epoch} \PY{o}{=} \PY{l+m+mi}{60}\PY{p}{,} \PY{n}{validation\PYZus{}data}\PY{o}{=}\PY{p}{(}\PY{n}{X\PYZus{}validate}\PY{p}{,} \PY{n}{y\PYZus{}validate}\PY{p}{)}\PY{p}{,}\PY{n}{callbacks}\PY{o}{=}\PY{p}{[}\PY{n}{plot\PYZus{}losses}\PY{p}{]}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Predicting the Test set results}
         \PY{n}{y\PYZus{}pred} \PY{o}{=} \PY{n}{classifier}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
         \PY{n}{y\PYZus{}pred2} \PY{o}{=} \PY{p}{(}\PY{n}{y\PYZus{}pred} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.5}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
The accuracy of the train dataset with only using RANK to predict is 0.6554503324602056
The accuracy of the test dataset with only using RANK to predict is 0.6446700507614214
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Layer (type)                 Output Shape              Param \#   
=================================================================
dense\_82 (Dense)             (None, 6)                 78        
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
dense\_83 (Dense)             (None, 6)                 42        
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
dense\_84 (Dense)             (None, 1)                 7         
=================================================================
Total params: 127
Trainable params: 127
Non-trainable params: 0
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
None

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:63: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(kernel\_initializer="uniform", activation="relu", units=6, input\_dim=12)`
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:67: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(kernel\_initializer="uniform", activation="relu", units=6)`
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:71: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(kernel\_initializer="uniform", activation="sigmoid", units=1)`
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}keras\textbackslash{}models.py:942: UserWarning: The `nb\_epoch` argument in `fit` has been renamed `epochs`.
  warnings.warn('The `nb\_epoch` argument in `fit` '

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Train on 4963 samples, validate on 686 samples
Epoch 1/60
4963/4963 [==============================] - 1s 211us/step - loss: 0.6909 - acc: 0.6337 - val\_loss: 0.6885 - val\_acc: 0.6603
Epoch 2/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.6846 - acc: 0.6555 - val\_loss: 0.6815 - val\_acc: 0.6603
Epoch 3/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.6708 - acc: 0.6555 - val\_loss: 0.6686 - val\_acc: 0.6603
Epoch 4/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.6418 - acc: 0.6555 - val\_loss: 0.6461 - val\_acc: 0.6603
Epoch 5/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.5928 - acc: 0.6563 - val\_loss: 0.6126 - val\_acc: 0.6603
Epoch 6/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.5259 - acc: 0.7215 - val\_loss: 0.5717 - val\_acc: 0.6706
Epoch 7/60
4963/4963 [==============================] - 0s 9us/step - loss: 0.4513 - acc: 0.9011 - val\_loss: 0.5305 - val\_acc: 0.7726
Epoch 8/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.3812 - acc: 0.9406 - val\_loss: 0.4958 - val\_acc: 0.7843
Epoch 9/60
4963/4963 [==============================] - 0s 19us/step - loss: 0.3222 - acc: 0.9539 - val\_loss: 0.4696 - val\_acc: 0.8061
Epoch 10/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.2718 - acc: 0.9615 - val\_loss: 0.4495 - val\_acc: 0.8090
Epoch 11/60
4963/4963 [==============================] - 0s 19us/step - loss: 0.2259 - acc: 0.9692 - val\_loss: 0.4358 - val\_acc: 0.8003
Epoch 12/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.1852 - acc: 0.9740 - val\_loss: 0.4294 - val\_acc: 0.8061
Epoch 13/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.1513 - acc: 0.9770 - val\_loss: 0.4305 - val\_acc: 0.8032
Epoch 14/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.1249 - acc: 0.9796 - val\_loss: 0.4377 - val\_acc: 0.8076
Epoch 15/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.1051 - acc: 0.9815 - val\_loss: 0.4496 - val\_acc: 0.8061
Epoch 16/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0906 - acc: 0.9813 - val\_loss: 0.4645 - val\_acc: 0.8032
Epoch 17/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0801 - acc: 0.9829 - val\_loss: 0.4812 - val\_acc: 0.8017
Epoch 18/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0723 - acc: 0.9827 - val\_loss: 0.4980 - val\_acc: 0.8017
Epoch 19/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0664 - acc: 0.9827 - val\_loss: 0.5147 - val\_acc: 0.8032
Epoch 20/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0620 - acc: 0.9833 - val\_loss: 0.5317 - val\_acc: 0.8032
Epoch 21/60
4963/4963 [==============================] - 0s 19us/step - loss: 0.0586 - acc: 0.9835 - val\_loss: 0.5482 - val\_acc: 0.8032
Epoch 22/60
4963/4963 [==============================] - 0s 19us/step - loss: 0.0559 - acc: 0.9835 - val\_loss: 0.5637 - val\_acc: 0.8032
Epoch 23/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0538 - acc: 0.9839 - val\_loss: 0.5787 - val\_acc: 0.8032
Epoch 24/60
4963/4963 [==============================] - 0s 22us/step - loss: 0.0521 - acc: 0.9837 - val\_loss: 0.5922 - val\_acc: 0.8032
Epoch 25/60
4963/4963 [==============================] - 0s 9us/step - loss: 0.0507 - acc: 0.9843 - val\_loss: 0.6071 - val\_acc: 0.8032
Epoch 26/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0495 - acc: 0.9843 - val\_loss: 0.6197 - val\_acc: 0.8032
Epoch 27/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0486 - acc: 0.9835 - val\_loss: 0.6313 - val\_acc: 0.8032
Epoch 28/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0478 - acc: 0.9837 - val\_loss: 0.6435 - val\_acc: 0.8032
Epoch 29/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0471 - acc: 0.9837 - val\_loss: 0.6543 - val\_acc: 0.8032
Epoch 30/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0466 - acc: 0.9833 - val\_loss: 0.6650 - val\_acc: 0.8032
Epoch 31/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0461 - acc: 0.9835 - val\_loss: 0.6750 - val\_acc: 0.8032
Epoch 32/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0457 - acc: 0.9833 - val\_loss: 0.6844 - val\_acc: 0.8047
Epoch 33/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0453 - acc: 0.9833 - val\_loss: 0.6923 - val\_acc: 0.8047
Epoch 34/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0450 - acc: 0.9833 - val\_loss: 0.7020 - val\_acc: 0.8047
Epoch 35/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0447 - acc: 0.9833 - val\_loss: 0.7090 - val\_acc: 0.8047
Epoch 36/60
4963/4963 [==============================] - 0s 9us/step - loss: 0.0445 - acc: 0.9833 - val\_loss: 0.7167 - val\_acc: 0.8047
Epoch 37/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0443 - acc: 0.9833 - val\_loss: 0.7242 - val\_acc: 0.8061
Epoch 38/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0441 - acc: 0.9833 - val\_loss: 0.7313 - val\_acc: 0.8061
Epoch 39/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0439 - acc: 0.9831 - val\_loss: 0.7365 - val\_acc: 0.8061
Epoch 40/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0438 - acc: 0.9831 - val\_loss: 0.7427 - val\_acc: 0.8061
Epoch 41/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0437 - acc: 0.9829 - val\_loss: 0.7487 - val\_acc: 0.8061
Epoch 42/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0436 - acc: 0.9829 - val\_loss: 0.7527 - val\_acc: 0.8061
Epoch 43/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0435 - acc: 0.9827 - val\_loss: 0.7598 - val\_acc: 0.8061
Epoch 44/60
4963/4963 [==============================] - 0s 9us/step - loss: 0.0434 - acc: 0.9827 - val\_loss: 0.7651 - val\_acc: 0.8061
Epoch 45/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0432 - acc: 0.9827 - val\_loss: 0.7689 - val\_acc: 0.8061
Epoch 46/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0432 - acc: 0.9827 - val\_loss: 0.7731 - val\_acc: 0.8061
Epoch 47/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0431 - acc: 0.9823 - val\_loss: 0.7770 - val\_acc: 0.8061
Epoch 48/60
4963/4963 [==============================] - 0s 9us/step - loss: 0.0430 - acc: 0.9823 - val\_loss: 0.7805 - val\_acc: 0.8061
Epoch 49/60
4963/4963 [==============================] - 0s 9us/step - loss: 0.0430 - acc: 0.9823 - val\_loss: 0.7833 - val\_acc: 0.8061
Epoch 50/60
4963/4963 [==============================] - 0s 19us/step - loss: 0.0429 - acc: 0.9823 - val\_loss: 0.7864 - val\_acc: 0.8076
Epoch 51/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0429 - acc: 0.9823 - val\_loss: 0.7893 - val\_acc: 0.8061
Epoch 52/60
4963/4963 [==============================] - 0s 22us/step - loss: 0.0428 - acc: 0.9825 - val\_loss: 0.7939 - val\_acc: 0.8076
Epoch 53/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0427 - acc: 0.9823 - val\_loss: 0.7957 - val\_acc: 0.8076
Epoch 54/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0426 - acc: 0.9823 - val\_loss: 0.7990 - val\_acc: 0.8076
Epoch 55/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0426 - acc: 0.9823 - val\_loss: 0.8017 - val\_acc: 0.8076
Epoch 56/60
4963/4963 [==============================] - 0s 19us/step - loss: 0.0425 - acc: 0.9823 - val\_loss: 0.8045 - val\_acc: 0.8076
Epoch 57/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0426 - acc: 0.9825 - val\_loss: 0.8082 - val\_acc: 0.8076
Epoch 58/60
4963/4963 [==============================] - 0s 13us/step - loss: 0.0426 - acc: 0.9825 - val\_loss: 0.8071 - val\_acc: 0.8090
Epoch 59/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0424 - acc: 0.9823 - val\_loss: 0.8126 - val\_acc: 0.8076
Epoch 60/60
4963/4963 [==============================] - 0s 16us/step - loss: 0.0424 - acc: 0.9825 - val\_loss: 0.8148 - val\_acc: 0.8076

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_23_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Debajo se muestra el accuracy obtenido para este ejemplo.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{cm} \PY{o}{=} \PY{n}{confusion\PYZus{}matrix}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}pred2}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}btp: best true predict, bfp: best false predict, wtp: worsetruepredict, wfp: worse false predict}
         \PY{n}{wtp}\PY{o}{=}\PY{n}{cm}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}
         \PY{n}{wfp}\PY{o}{=}\PY{n}{cm}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}
         \PY{n}{btp}\PY{o}{=}\PY{n}{cm}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}
         \PY{n}{bfp}\PY{o}{=}\PY{n}{cm}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}
         
         \PY{n}{plot\PYZus{}confusion\PYZus{}matrix}\PY{p}{(} \PY{n}{cm} \PY{o}{=} \PY{p}{(}\PY{n}{cm}\PY{p}{)}\PY{p}{,} \PY{n}{normalize}\PY{o}{=} \PY{k+kc}{False}\PY{p}{,} \PY{n}{target\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Best Ranking Lost}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Best Ranking Won}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{p}{)}
         
         \PY{n}{acc} \PY{o}{=} \PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}pred2}\PY{p}{,} \PY{n}{normalize}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{sample\PYZus{}weight}\PY{o}{=}\PY{k+kc}{None}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The accuracy of this iteration is }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{acc}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The ratio of best rank players that win is }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{p}{(}\PY{p}{(}\PY{n}{btp}\PY{o}{+}\PY{n}{bfp}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{n}{btp}\PY{o}{+}\PY{n}{bfp}\PY{o}{+}\PY{n}{wtp}\PY{o}{+}\PY{n}{wfp}\PY{p}{)}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The predicted ratio of best rank players that win is }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{p}{(}\PY{p}{(}\PY{n}{btp}\PY{o}{+}\PY{n}{wfp}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{n}{btp}\PY{o}{+}\PY{n}{bfp}\PY{o}{+}\PY{n}{wtp}\PY{o}{+}\PY{n}{wfp}\PY{p}{)}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{p}{,} \PY{n}{bins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Probability}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{;}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_25_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
The accuracy of this iteration is 83.69114877589455 \%.
The ratio of best rank players that win is 64.25612052730698 \%.
The predicted ratio of best rank players that win is 55.856873822975516 \%.

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_25_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Se puede apreciar en el gráfico de binary crossentropy que, después de
cierta cantidad de epochs, se necesita realizar early stopping debido a
que la pérdida de la validación deja de reducirse y comienza a aumentar.
Esto es debido a que tras cierto número de iteraciones, se produce
overfitting, es decir, se está sobreentrenando la red. Se decide
entonces utilizar 30 epochs.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}54}]:} \PY{n}{classifier} \PY{o}{=} \PY{n}{Sequential}\PY{p}{(}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Adding the input layer and the first hidden layer}
         \PY{n}{classifier}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{output\PYZus{}dim} \PY{o}{=} \PY{l+m+mi}{6}\PY{p}{,} \PY{n}{init} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{uniform}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{activation} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{relu}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{input\PYZus{}dim} \PY{o}{=} \PY{n}{X\PYZus{}train}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}classifier.add(BatchNormalization())}
         
         \PY{c+c1}{\PYZsh{} Adding the second hidden layer}
         \PY{n}{classifier}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{output\PYZus{}dim} \PY{o}{=} \PY{l+m+mi}{6}\PY{p}{,} \PY{n}{init} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{uniform}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{activation} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{relu}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}classifier.add(BatchNormalization())}
         
         \PY{c+c1}{\PYZsh{} Adding the output layer}
         \PY{n}{classifier}\PY{o}{.}\PY{n}{add}\PY{p}{(}\PY{n}{Dense}\PY{p}{(}\PY{n}{output\PYZus{}dim} \PY{o}{=} \PY{l+m+mi}{1}\PY{p}{,} \PY{n}{init} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{uniform}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{activation} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sigmoid}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Compiling Neural Network}
         \PY{n}{classifier}\PY{o}{.}\PY{n}{compile}\PY{p}{(}\PY{n}{optimizer} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{adam}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{loss} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{binary\PYZus{}crossentropy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{metrics} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{accuracy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{classifier}\PY{o}{.}\PY{n}{summary}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Fitting our model }
         \PY{n}{classifier}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{batch\PYZus{}size} \PY{o}{=} \PY{l+m+mi}{200}\PY{p}{,} \PY{n}{nb\PYZus{}epoch} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{,} \PY{n}{validation\PYZus{}data}\PY{o}{=}\PY{p}{(}\PY{n}{X\PYZus{}validate}\PY{p}{,} \PY{n}{y\PYZus{}validate}\PY{p}{)}\PY{p}{,}\PY{n}{callbacks}\PY{o}{=}\PY{p}{[}\PY{n}{plot\PYZus{}losses}\PY{p}{]}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Predicting the Test set results}
         \PY{n}{y\PYZus{}pred} \PY{o}{=} \PY{n}{classifier}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}
         \PY{n}{y\PYZus{}pred2} \PY{o}{=} \PY{p}{(}\PY{n}{y\PYZus{}pred} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.5}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:4: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(kernel\_initializer="uniform", activation="relu", units=6, input\_dim=12)`
  after removing the cwd from sys.path.
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:8: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(kernel\_initializer="uniform", activation="relu", units=6)`
  
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:12: UserWarning: Update your `Dense` call to the Keras 2 API: `Dense(kernel\_initializer="uniform", activation="sigmoid", units=1)`
  if sys.path[0] == '':
c:\textbackslash{}users\textbackslash{}cufar\textbackslash{}anaconda3\textbackslash{}envs\textbackslash{}tensorflow\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}keras\textbackslash{}models.py:942: UserWarning: The `nb\_epoch` argument in `fit` has been renamed `epochs`.
  warnings.warn('The `nb\_epoch` argument in `fit` '

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Layer (type)                 Output Shape              Param \#   
=================================================================
dense\_94 (Dense)             (None, 6)                 78        
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
dense\_95 (Dense)             (None, 6)                 42        
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
dense\_96 (Dense)             (None, 1)                 7         
=================================================================
Total params: 127
Trainable params: 127
Non-trainable params: 0
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
None
Train on 4963 samples, validate on 686 samples
Epoch 1/13
4963/4963 [==============================] - 1s 198us/step - loss: 0.6911 - acc: 0.6464 - val\_loss: 0.6888 - val\_acc: 0.6603
Epoch 2/13
4963/4963 [==============================] - 0s 16us/step - loss: 0.6854 - acc: 0.6555 - val\_loss: 0.6828 - val\_acc: 0.6603
Epoch 3/13
4963/4963 [==============================] - 0s 16us/step - loss: 0.6737 - acc: 0.6555 - val\_loss: 0.6715 - val\_acc: 0.6603
Epoch 4/13
4963/4963 [==============================] - 0s 9us/step - loss: 0.6478 - acc: 0.6555 - val\_loss: 0.6506 - val\_acc: 0.6603
Epoch 5/13
4963/4963 [==============================] - 0s 13us/step - loss: 0.6014 - acc: 0.6617 - val\_loss: 0.6180 - val\_acc: 0.6603
Epoch 6/13
4963/4963 [==============================] - 0s 13us/step - loss: 0.5349 - acc: 0.7937 - val\_loss: 0.5767 - val\_acc: 0.7041
Epoch 7/13
4963/4963 [==============================] - 0s 9us/step - loss: 0.4580 - acc: 0.9200 - val\_loss: 0.5340 - val\_acc: 0.7784
Epoch 8/13
4963/4963 [==============================] - 0s 13us/step - loss: 0.3843 - acc: 0.9420 - val\_loss: 0.4974 - val\_acc: 0.7930
Epoch 9/13
4963/4963 [==============================] - 0s 13us/step - loss: 0.3220 - acc: 0.9541 - val\_loss: 0.4698 - val\_acc: 0.8090
Epoch 10/13
4963/4963 [==============================] - 0s 16us/step - loss: 0.2718 - acc: 0.9617 - val\_loss: 0.4505 - val\_acc: 0.8076
Epoch 11/13
4963/4963 [==============================] - 0s 16us/step - loss: 0.2311 - acc: 0.9684 - val\_loss: 0.4379 - val\_acc: 0.8032
Epoch 12/13
4963/4963 [==============================] - 0s 16us/step - loss: 0.1974 - acc: 0.9710 - val\_loss: 0.4311 - val\_acc: 0.8047
Epoch 13/13
4963/4963 [==============================] - 0s 25us/step - loss: 0.1693 - acc: 0.9746 - val\_loss: 0.4293 - val\_acc: 0.8047

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_27_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{n}{cm} \PY{o}{=} \PY{n}{confusion\PYZus{}matrix}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}pred2}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}btp: best true predict, bfp: best false predict, wtp: worsetruepredict, wfp: worse false predict}
         \PY{n}{wtp}\PY{o}{=}\PY{n}{cm}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}
         \PY{n}{wfp}\PY{o}{=}\PY{n}{cm}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}
         \PY{n}{btp}\PY{o}{=}\PY{n}{cm}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}
         \PY{n}{bfp}\PY{o}{=}\PY{n}{cm}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}
         
         \PY{n}{plot\PYZus{}confusion\PYZus{}matrix}\PY{p}{(} \PY{n}{cm} \PY{o}{=} \PY{p}{(}\PY{n}{cm}\PY{p}{)}\PY{p}{,} \PY{n}{normalize}\PY{o}{=} \PY{k+kc}{False}\PY{p}{,} \PY{n}{target\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Best Ranking Lost}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Best Ranking Won}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{p}{)}
         
         \PY{n}{acc} \PY{o}{=} \PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}pred2}\PY{p}{,} \PY{n}{normalize}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{sample\PYZus{}weight}\PY{o}{=}\PY{k+kc}{None}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The accuracy of this iteration is }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{acc}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The ratio of best rank players that win is }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{p}{(}\PY{p}{(}\PY{n}{btp}\PY{o}{+}\PY{n}{bfp}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{n}{btp}\PY{o}{+}\PY{n}{bfp}\PY{o}{+}\PY{n}{wtp}\PY{o}{+}\PY{n}{wfp}\PY{p}{)}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The predicted ratio of best rank players that win is }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{p}{(}\PY{p}{(}\PY{n}{btp}\PY{o}{+}\PY{n}{wfp}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{n}{btp}\PY{o}{+}\PY{n}{bfp}\PY{o}{+}\PY{n}{wtp}\PY{o}{+}\PY{n}{wfp}\PY{p}{)}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{y\PYZus{}pred}\PY{p}{,} \PY{n}{bins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Probability}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{;}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_28_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
The accuracy of this iteration is 83.1261770244821 \%.
The ratio of best rank players that win is 64.25612052730698 \%.
The predicted ratio of best rank players that win is 60.41431261770245 \%.

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_28_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    El accuracy obtenido es superior a lo esperado. Se puede observar en la
matriz de confusión que los casos más frecuentes de errores de detección
surgen cuando se predice que pierde el jugador con mayor ranking, cuando
en realidad dicho jugador gana. Se puede ver que el ranking de los
jugadores no afecta el resultado, ya que se predice que hay un 50\% de
que ganan los que tienen mejor ranking. Se debe superar este porcentaje.

Se puede observar como al eliminar el overfitting o sobreajuste del
modelo el ratio de los jugadores con mejor ránking que ganan mejoran, el
cual es de un 60\% (en comparación al 55\% obtenido con 60 epochs). Se
puede ver como la técnica de early stopping generaliza mejor el modelo a
implementar, aunque no logra mejorar el accuracy. Esto es debido a que
hay partidos que el historial no es representativo al resultado
obtenido.

Es acertado no considerar en el dataset el historial de los jugadores en
2014-2015. Esto es debido a que los mismos o ya pasaron su edad de
rendimiento, o no alcanzaron su máximo rendimiento por no tener la
suficiente experiencia. Esto claramente afecta al parámetro TMW. Si se
elimina el parámetro TMW, se obtiene un accuracy de aproximadamente el
64\%.

    \subsection{Anexo}\label{anexo}

Se muestra la función callback para realizar los gráficos.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{k+kn}{import} \PY{n+nn}{itertools}
         \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
         
         \PY{k}{def} \PY{n+nf}{plot\PYZus{}confusion\PYZus{}matrix}\PY{p}{(}\PY{n}{cm}\PY{p}{,}
                                   \PY{n}{target\PYZus{}names}\PY{p}{,}
                                   \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Confusion matrix}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                                   \PY{n}{cmap}\PY{o}{=}\PY{k+kc}{None}\PY{p}{,}
                                   \PY{n}{normalize}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{p}{:}
         
             \PY{n}{accuracy} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{trace}\PY{p}{(}\PY{n}{cm}\PY{p}{)} \PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{cm}\PY{p}{)}\PY{p}{)}
             \PY{n}{misclass} \PY{o}{=} \PY{l+m+mi}{1} \PY{o}{\PYZhy{}} \PY{n}{accuracy}
         
             \PY{k}{if} \PY{n}{cmap} \PY{o+ow}{is} \PY{k+kc}{None}\PY{p}{:}
                 \PY{n}{cmap} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{get\PYZus{}cmap}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Blues}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
             \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{8} \PY{p}{)}\PY{p}{)}
             \PY{n}{font} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{size}\PY{l+s+s1}{\PYZsq{}}   \PY{p}{:} \PY{l+m+mi}{14}\PY{p}{\PYZcb{}}
             \PY{n}{plt}\PY{o}{.}\PY{n}{rc}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{font}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{font}\PY{p}{)}
             
             \PY{n}{plt}\PY{o}{.}\PY{n}{imshow}\PY{p}{(}\PY{n}{cm}\PY{p}{,} \PY{n}{interpolation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nearest}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{cmap}\PY{o}{=}\PY{n}{cmap}\PY{p}{)}
             \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{n}{title}\PY{p}{)}
             \PY{n}{plt}\PY{o}{.}\PY{n}{colorbar}\PY{p}{(}\PY{p}{)}
         
             \PY{k}{if} \PY{n}{target\PYZus{}names} \PY{o+ow}{is} \PY{o+ow}{not} \PY{k+kc}{None}\PY{p}{:}
                 \PY{n}{tick\PYZus{}marks} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{target\PYZus{}names}\PY{p}{)}\PY{p}{)}
                 \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{tick\PYZus{}marks}\PY{p}{,} \PY{n}{target\PYZus{}names}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
                 \PY{n}{plt}\PY{o}{.}\PY{n}{yticks}\PY{p}{(}\PY{n}{tick\PYZus{}marks}\PY{p}{,} \PY{n}{target\PYZus{}names}\PY{p}{)}
         
             \PY{k}{if} \PY{n}{normalize}\PY{p}{:}
                 \PY{n}{cm} \PY{o}{=} \PY{n}{cm}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{float}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{/} \PY{n}{cm}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{newaxis}\PY{p}{]}
         
         
             \PY{n}{thresh} \PY{o}{=} \PY{n}{cm}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)} \PY{o}{/} \PY{l+m+mf}{1.5} \PY{k}{if} \PY{n}{normalize} \PY{k}{else} \PY{n}{cm}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)} \PY{o}{/} \PY{l+m+mi}{2}
             \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{j} \PY{o+ow}{in} \PY{n}{itertools}\PY{o}{.}\PY{n}{product}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{n}{cm}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n+nb}{range}\PY{p}{(}\PY{n}{cm}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                 \PY{k}{if} \PY{n}{normalize}\PY{p}{:}
                     \PY{n}{plt}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{j}\PY{p}{,} \PY{n}{i}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZob{}:0.4f\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{cm}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{]}\PY{p}{)}\PY{p}{,}
                              \PY{n}{horizontalalignment}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{center}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                              \PY{n}{color}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{white}\PY{l+s+s2}{\PYZdq{}} \PY{k}{if} \PY{n}{cm}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{n}{thresh} \PY{k}{else} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{black}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                 \PY{k}{else}\PY{p}{:}
                     \PY{n}{plt}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{j}\PY{p}{,} \PY{n}{i}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZob{}:,\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{cm}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{]}\PY{p}{)}\PY{p}{,}
                              \PY{n}{horizontalalignment}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{center}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                              \PY{n}{color}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{white}\PY{l+s+s2}{\PYZdq{}} \PY{k}{if} \PY{n}{cm}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{n}{thresh} \PY{k}{else} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{black}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         
             \PY{n}{plt}\PY{o}{.}\PY{n}{tight\PYZus{}layout}\PY{p}{(}\PY{p}{)}
             \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{True label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Predicted label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
             
         \PY{c+c1}{\PYZsh{} updatable plot}
         \PY{c+c1}{\PYZsh{} a minimal example (sort of)}
         
         \PY{k}{class} \PY{n+nc}{PlotLosses}\PY{p}{(}\PY{n}{keras}\PY{o}{.}\PY{n}{callbacks}\PY{o}{.}\PY{n}{Callback}\PY{p}{)}\PY{p}{:}
             \PY{k}{def} \PY{n+nf}{on\PYZus{}train\PYZus{}begin}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{logs}\PY{o}{=}\PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}\PY{p}{)}\PY{p}{:}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{i} \PY{o}{=} \PY{l+m+mi}{0}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{x} \PY{o}{=} \PY{p}{[}\PY{p}{]}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{losses} \PY{o}{=} \PY{p}{[}\PY{p}{]}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{val\PYZus{}losses} \PY{o}{=} \PY{p}{[}\PY{p}{]}
                 
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
                 
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logs} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         
             \PY{k}{def} \PY{n+nf}{on\PYZus{}epoch\PYZus{}end}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{epoch}\PY{p}{,} \PY{n}{logs}\PY{o}{=}\PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}\PY{p}{)}\PY{p}{:}
                 
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logs}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{logs}\PY{p}{)}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{x}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{i}\PY{p}{)}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{losses}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{logs}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{loss}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{val\PYZus{}losses}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{logs}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{val\PYZus{}loss}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{i} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
                 
                 \PY{k}{if} \PY{n}{epoch} \PY{o}{==} \PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{params}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{epochs}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
                     \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{x}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{losses}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{loss}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                     \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{x}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{val\PYZus{}losses}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{val\PYZus{}loss}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                     \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of Epoch}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                     \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Loss}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                     \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
                     \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}\PY{p}{;}
                 
         \PY{n}{plot\PYZus{}losses} \PY{o}{=} \PY{n}{PlotLosses}\PY{p}{(}\PY{p}{)}
\end{Verbatim}



    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
